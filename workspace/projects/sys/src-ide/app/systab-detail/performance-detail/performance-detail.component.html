<div class="performance-container">
    <div class="fixedArea" [ngStyle]="{height: isTable ? '40px' : '110px'}">
        <div class="title_bar" [ngClass]="{'title_bar2': !isTable}">
            <div class="left_title">
                {{i18n.sys.perfDetail}}
                <div class="selectIcon" [tiTip]='selectTip' tiTipPosition="right" *ngIf="!isTable"
                    (mouseenter)="mouseenterFilter()" (mouseleave)="mouseleaveFilter()" (click)="chartConfig()">
                    <img [src]="sanitizer.bypassSecurityTrustResourceUrl(filterImg)">
                </div>
                <img src="./assets/img/summary/tooltip_dark.svg" *ngIf="isTable && !isIntellij"
                    [tiTip]='indexExplanation' tiTipMaxWidth='400px' tiTipPosition="right" class="help-tip">
                <img src="./assets/img/summary/tooltip_dark.svg" *ngIf="isTable && isIntellij"
                    [tiTip]='indexExplanation' tiTipMaxWidth='400px' tiTipPosition="right"
                    style="height: 11px;width: 11px;margin-top: 8px;margin-left: 5px;">
            </div>
            <div class="right_switch">
                <hy-theme-content class="view-switch">
                    <app-icon-react light name="chartView" *ngIf="isTable" (click)="isTable = false"></app-icon-react>
                    <app-icon-react light name="chartViewSelected" *ngIf="!isTable" (click)="isTable = false">
                    </app-icon-react>
                    <app-icon-react light name="tableView" *ngIf="!isTable" (click)="isTable = true"></app-icon-react>
                    <app-icon-react light name="tableViewSelected" *ngIf="isTable" (click)="isTable = true">
                    </app-icon-react>

                    <app-icon-react dark name="chartViewDark" *ngIf="isTable" (click)="isTable = false">
                    </app-icon-react>
                    <app-icon-react dark name="chartViewSelectedDark" *ngIf="!isTable" (click)="isTable = false">
                    </app-icon-react>
                    <app-icon-react dark name="tableViewDark" *ngIf="!isTable" (click)="isTable = true">
                    </app-icon-react>
                    <app-icon-react dark name="tableViewSelectedDark" *ngIf="isTable" (click)="isTable = true">
                    </app-icon-react>
                </hy-theme-content>

            </div>
        </div>
        <div *ngIf="!isTable && !noData">
            <app-time-line *ngIf="timeData.length" [timeData]='timeData' (timeLineData)='timeLineData($event)'
                #timeLineDetail></app-time-line>
        </div>
    </div>
    <div *ngIf="noData" class="empty">
        <img style="width: 13%; display: block; position: relative;" src='./assets/img/projects/nodata-dark.png' />
        <div style="font-size: 16px;margin-top: 15px;">{{noDataInfo}}</div>
    </div>

    <!-- echarts -->
    <div class="micarch_echarts svgPage" [ngClass]="{
        ifShow: !isTable && !noData,
        EchartShow: isTable && !noData
    }">
        <app-cpu-detail class="svgPage" [ngClass]="{ifShow: echartsShowData.cpuShow}" [taskid]='taskid'
            [timeLine]='timeLine' [nodeid]='nodeid' #cpuDetail (cpuAverageData)='cpuDetailData($event)'
            (ZoomData)="dataZoom($event)" (cpuEchartsInstOut)='echartsInstOut($event)'></app-cpu-detail>
        <app-memory-detail class="svgPage" [ngClass]="{ifShow: echartsShowData.memoryShow}" [timeLine]='timeLine'
            [taskid]='taskid' [nodeid]='nodeid' #memoryDetail (memorySelectData)='memorySelectData($event)'
            (ZoomData)="dataZoom($event)" (memoryEchartsInstOut)='echartsInstOut($event)'>
        </app-memory-detail>
        <app-sys-disk class="svgPage" [ngClass]="{ifShow: echartsShowData.diskShow}" [timeLine]='timeLine'
            [taskid]='taskid' [nodeid]='nodeid' #diskDetail (diskSelectData)='diskSelectData($event)'
            (ZoomData)="dataZoom($event)" (sysDiskEchartsInstOut)='echartsInstOut($event)'></app-sys-disk>
        <app-sys-net class="svgPage" [ngClass]="{ifShow: echartsShowData.netWorkShow}" [timeLine]='timeLine'
            [taskid]='taskid' [nodeid]='nodeid' #networkDetail (networkSelectData)='networkSelectData($event)'
            (ZoomData)="dataZoom($event)" (sysNetEchartsInstOut)='echartsInstOut($event)'></app-sys-net>
        <app-consumption-detail class="svgPage" [ngClass]="{ifShow: echartsShowData.consumption}" [timeLine]='timeLine'
            [taskid]='taskid' [nodeid]='nodeid' #consumptionDetail (ZoomData)="dataZoom($event)"
            (consumptionEchartsInstOut)='echartsInstOut($event)'></app-consumption-detail>
    </div>
    <!-- 表格显示 -->
    <div class="micarch_table svgPage" [ngClass]="{ifShow: isTable && !noData}">
        <app-performance-table [nodeid]='nodeid' [projectName]='projectName' [taskName]='taskName'
            [analysisType]='analysisType' [taskid]='taskid' [isActive]='isActive' #performanceTable>
        </app-performance-table>
    </div>
</div>
<ng-template #timeChartConfig let-context='context'>
    <ti-modal-header>{{ i18n.sys.perfDetail }}</ti-modal-header>
    <ti-modal-body>
        <div class="content filterConfig" #container>
            <!-- CPU -->
            <div class="filterConfig_content">
                <!-- title -->
                <div class="filterConfig_title" [ngClass]="{'filterConfigClose': !showData.cpuShow}"
                    (click)="showData.cpuShow =!showData.cpuShow">
                    <span>CPU</span>
                    <img src="./assets/img/micarch/ticks-selected_dark.svg" *ngIf="showData.cpuShow && !isIntellij">
                    <img src="./assets/img/micarch/ticks-selected_dark_intellij.svg"
                        *ngIf="showData.cpuShow && isIntellij">

                    <hy-theme-content>
                        <img dark src="./assets/img/micarch/ticks-normal_dark.svg" *ngIf="!showData.cpuShow">
                        <img light src="./assets/img/micarch/ticks-normal-light.png" *ngIf="!showData.cpuShow">
                    </hy-theme-content>
                </div>
                <!-- 内容 -->
                <div class="filterCondition" *ngIf="showData.cpuShow">
                    <!-- CPU平均负载复选框 -->
                    <div class="margin-bottom-20">
                        <div class="average">
                            <input type="checkbox" tiCheckbox id='average' [(ngModel)]="averageShow">
                            <label for='average'
                                style="cursor: pointer;">{{i18n.plugins_sysperf_title_cpuAverageLoad}}</label>
                        </div>
                        <div class="div-margin">
                            <ti-select class="ti-select-set" [multiple]="true" *ngIf="averageShow"
                                [options]='cpuTypeOption2' [searchable]="true" [(ngModel)]="cpuTypeSelected2"
                                (ngModelChange)="cpuTypeChange2(1)" id="haha">
                            </ti-select>
                        </div>
                    </div>
                    <!-- CPU利用率复选框 -->
                    <div class="margin-bottom-20">
                        <div class="average">
                            <input type="checkbox" tiCheckbox id='Utilization' [(ngModel)]="UtilizationShow">
                            <label for='Utilization' style="cursor: pointer;">{{i18n.sys.titles.cpuUsage}}</label>
                        </div>
                        <div class="filterTitle_box div-margin" *ngIf="UtilizationShow">
                            <div class="filterTitle margin-right-32">
                                <p>CPU</p>
                                <ti-select class="ti-select-set" [multiple]="false" [options]='cpuNumsOption'
                                    [searchable]="true" [(ngModel)]="cpuNumSelected"
                                    (ngModelChange)="cpuTypeChange2(2)">
                                </ti-select>
                            </div>
                            <div class="filterTitle">
                                <p>{{i18n.plugins_sysperf_title_indicator}}</p>
                                <div>
                                    <ti-select class="ti-select-set" [multiple]="true" [options]='cpuTypeOption'
                                        [searchable]="true" [(ngModel)]="cpuTypeSelected"
                                        (ngModelChange)="cpuTypeChange(3)">
                                    </ti-select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="filterTitle" style="margin-top: 10px;" *ngIf="cpuTableShow && UtilizationShow">
                        <div class="selectTable div-margin">
                            <div class="switch">
                                <span>{{cpuSelected?cpuSelectData:0}}</span>
                                <span>{{cpuSelected?0:cpuTotalData}}</span>
                                <div [ngClass]="{selectedLeft: cpuSelected,selectedRight: !cpuSelected}"
                                    (click)="cpuSwitch(true)">{{cpuSelected?cpuTotalData:cpuSelectData}}</div>
                            </div>
                            <div class="selectTableBox">
                                <div class="headerFilter" *ngIf="cpuTitle.length>=4">
                                    <img src="./assets/img/micarch/tableHeader.svg" alt=""
                                        (click)="cpusHeadShow = !cpusHeadShow">
                                    <div class="statusFilter" [ngClass]="{'active': cpusHeadShow}">
                                        <span *ngFor="let item of cpuHeaderData">
                                            <input type="checkbox" tiCheckitem [item]="item" [disabled]="item.disabled"
                                                [beCheckeds]="cpuCheckedData" [label]="item.title"
                                                (change)="onMyChange()">
                                            <span style="padding-left: 10px;"></span>
                                        </span>
                                    </div>
                                </div>
                                <ti-table [(displayedData)]="cpuDisplayData" [srcData]="cpuContentData"
                                    [columns]="cpuTitle">
                                    <table>
                                        <thead>
                                            <tr>
                                                <!--使用复选框时，需要给复选框列加 checkbox-column 属性-->
                                                <th checkbox-column>
                                                    <!--全选按钮-->
                                                    <!--如果有分页，全选需要控制当前页时，items接口传入displayed
                              如果全选要控制表格所有数据，items接口传入srcData.data-->
                                                    <input type="checkbox" tiCheckgroup [items]="cpuDisplayData"
                                                        [(checkeds)]="cpuCheckedListKey" valueKey="id"
                                                        (change)="checkboxData(1)" />
                                                </th>
                                                <ng-container *ngFor="let item of cpuTitle;index as i">
                                                    <th tiOverflow *ngIf="item.show || item.show === undefined">
                                                        <ti-cell-text>{{item.title}}</ti-cell-text>
                                                        <!-- sort接口为排序的属性名(字段，例如‘firstName’)-->
                                                        <ti-head-sort [sortKey]="item.sortKey"
                                                            [compareFn]="item.compareFn"></ti-head-sort>
                                                    </th>
                                                </ng-container>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!--注意:ngFor中的displayed数据与displayedData传入的数据一致, 初始化设置为[]即可-->
                                            <!--为了更好的渲染性能，建议在ngFor数据时总是trackBy数据条目中的某个唯一属性值(如id)-->
                                            <tr *ngFor="let row of cpuDisplayData;index as i;trackBy: trackByFn"
                                                [ngClass]="{'ti3-selected-tr': cpuCheckedList.indexOf(row) !== -1}">
                                                <!--使用复选框时，需要给复选框列加 checkbox-column 属性-->
                                                <td checkbox-column>
                                                    <input type="checkbox" tiCheckitem [item]="row"
                                                        (change)="checkboxData(1)" />
                                                </td>
                                                <ng-container *ngFor="let item of cpuTitle;index as indexData">
                                                    <td tiOverflow
                                                        *ngIf="cpuTitle[indexData].show|| cpuTitle[indexData].show === undefined">
                                                        {{row['name'+indexData]}}</td>
                                                </ng-container>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <ti-pagination autoHide="true" [(currentPage)]="cpuCurrentPage"
                                        [pageSize]="cpuPageSize" [(totalNumber)]="cpuTotalNumber">
                                    </ti-pagination>
                                </ti-table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 内存 -->
            <div class="filterConfig_content">
                <div class="filterConfig_title" [ngClass]="{'filterConfigClose': !showData.memoryShow}"
                    (click)="showData.memoryShow =!showData.memoryShow">
                    <span>{{i18n.sys.mem}}</span>
                    <img src="./assets/img/micarch/ticks-selected_dark.svg" *ngIf="showData.memoryShow && !isIntellij">
                    <img src="./assets/img/micarch/ticks-selected_dark_intellij.svg"
                        *ngIf="showData.memoryShow && isIntellij">

                    <hy-theme-content>
                        <img dark src="./assets/img/micarch/ticks-normal_dark.svg" *ngIf="!showData.memoryShow">
                        <img light src="./assets/img/micarch/ticks-normal-light.png" *ngIf="!showData.memoryShow">
                    </hy-theme-content>
                </div>
                <div class="filterCondition" *ngIf="showData.memoryShow">
                    <!-- 内存利用率 -->
                    <div class="margin-bottom-20">
                        <div class="average">
                            <input type="checkbox" tiCheckbox id='Memory' [(ngModel)]="memoryUtilization">
                            <label for='Memory' style="cursor: pointer;">{{i18n.sys.titles.memUsage}}</label>
                        </div>
                        <div class="div-margin">
                            <ti-select class="ti-select-set" [multiple]="true" *ngIf="memoryUtilization"
                                [searchable]="true" [options]='usageTypeOption' [(ngModel)]="usageTypeSelected"
                                (ngModelChange)="cpuTypeChange2(4)">
                            </ti-select>
                        </div>
                    </div>
                    <!-- 分页统计 -->
                    <div class="margin-bottom-20">
                        <div class="average">
                            <input type="checkbox" tiCheckbox id='paginationStatistic' [(ngModel)]="Pagination">
                            <label for='Pagination' style="cursor: pointer;">{{i18n.sys.titles.memPag}}</label>
                        </div>
                        <div class="div-margin">
                            <ti-select class="ti-select-set" [multiple]="true" *ngIf="Pagination" [options]='pagOption'
                                [searchable]="true" [(ngModel)]="pagSelected" (ngModelChange)="cpuTypeChange2(5)">
                            </ti-select>
                        </div>
                    </div>
                    <!-- 交换统计 -->
                    <div class="margin-bottom-20">
                        <div class="average">
                            <input type="checkbox" tiCheckbox id='exchangeStatistic' [(ngModel)]="exchange">
                            <label for='exchange' style="cursor: pointer;">{{i18n.sys.titles.memSwap}}</label>
                        </div>
                        <div class="div-margin">
                            <ti-select class="ti-select-set" [multiple]="true" *ngIf="exchange" [options]='swapOption'
                                [(ngModel)]="swapSelected" (ngModelChange)="cpuTypeChange2(6)">
                            </ti-select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 磁盘IO -->
            <div class="filterConfig_content">
                <!-- title -->
                <div class="filterConfig_title" [ngClass]="{'filterConfigClose': !showData.diskShow}"
                    (click)="showData.diskShow =!showData.diskShow">
                    <span>{{i18n.sys.disk}}</span>
                    <img src="./assets/img/micarch/ticks-selected_dark.svg" *ngIf="showData.diskShow && !isIntellij">
                    <img src="./assets/img/micarch/ticks-selected_dark_intellij.svg"
                        *ngIf="showData.diskShow && isIntellij">

                    <hy-theme-content>
                        <img dark src="./assets/img/micarch/ticks-normal_dark.svg" *ngIf="!showData.diskShow">
                        <img light src="./assets/img/micarch/ticks-normal-light.png" *ngIf="!showData.diskShow">
                    </hy-theme-content>

                </div>
                <!-- 块设备利用率 -->
                <div class="filterCondition" *ngIf="showData.diskShow">
                    <div class="margin-bottom-20">
                        <div class="average">
                            <input type="checkbox" tiCheckbox id='equipment' [(ngModel)]="diskShow">
                            <label for='equipment' style="cursor: pointer;">{{i18n.sys.titles.diskBlock}}</label>
                        </div>
                        <div class="filterTitle_box div-margin" *ngIf="diskShow">
                            <!-- 块设备 -->
                            <div class="filterTitle margin-right-32">
                                <p>{{i18n.plugins_sysperf_title_blockDevice}}</p>
                                <ti-select class="ti-select-set" *ngIf="devOption.length>0" [searchable]="true"
                                    [multiple]="false" [options]='devOption' [(ngModel)]="devSelected"
                                    (ngModelChange)="cpuTypeChange2(7)">
                                </ti-select>
                            </div>
                            <!-- 指标 -->
                            <div class="filterTitle">
                                <p>{{i18n.plugins_sysperf_title_indicator}}</p>
                                <div>
                                    <ti-select class="ti-select-set" [multiple]="true" [searchable]="true"
                                        [options]='typeOption' [(ngModel)]="typeSelected"
                                        (ngModelChange)="diskTypeChange()">
                                    </ti-select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div *ngIf="duskTableShow&&diskShow" class="selectTable div-margin">
                        <div class="switch">
                            <span>{{diskSelected?diskSelectTableData:0}}</span>
                            <span>{{diskSelected?0:diskTotalData}}</span>
                            <div [ngClass]="{selectedLeft: diskSelected,selectedRight: !diskSelected}"
                                (click)="diskSwitch(true)">{{diskSelected?diskTotalData:diskSelectTableData}}</div>
                        </div>
                        <div class="selectTableBox">
                            <div class="headerFilter" *ngIf="diskTitle.length>=4">
                                <img src="./assets/img/micarch/tableHeader.svg" alt=""
                                    (click)="disksHeadShow = !disksHeadShow">
                                <div class="statusFilter" [ngClass]="{'active': disksHeadShow}">
                                    <span *ngFor="let item of diskHeaderData">
                                        <input type="checkbox" tiCheckitem [item]="item" [disabled]="item.disabled"
                                            [beCheckeds]="diskCheckedData" [label]="item.title"
                                            (change)="diskHeaderChange()">
                                        <span style="padding-left: 10px;"></span>
                                    </span>
                                </div>
                            </div>
                            <ti-table [(displayedData)]="diskDisplayData" [srcData]="diskContentData"
                                [columns]="diskTitle">
                                <table>
                                    <thead>
                                        <tr>
                                            <!--使用复选框时，需要给复选框列加 checkbox-column 属性-->
                                            <th checkbox-column>
                                                <!--全选按钮-->
                                                <!--如果有分页，全选需要控制当前页时，items接口传入displayed
                            如果全选要控制表格所有数据，items接口传入srcData.data-->
                                                <input type="checkbox" tiCheckgroup [items]="diskDisplayData"
                                                    [(checkeds)]="diskCheckedListKey" valueKey="id"
                                                    (change)="checkboxData(2)" />
                                            </th>
                                            <ng-container *ngFor="let item of diskTitle;index as i">
                                                <th tiOverflow *ngIf="item.show || item.show === undefined">
                                                    <ti-cell-text>{{item.title}}</ti-cell-text>
                                                    <!-- sort接口为排序的属性名(字段，例如‘firstName’)-->
                                                    <ti-head-sort [sortKey]="item.sortKey"></ti-head-sort>
                                                </th>
                                            </ng-container>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!--注意:ngFor中的displayed数据与displayedData传入的数据一致, 初始化设置为[]即可-->
                                        <!--为了更好的渲染性能，建议在ngFor数据时总是trackBy数据条目中的某个唯一属性值(如id)-->
                                        <tr *ngFor="let row of diskDisplayData;index as i;trackBy: trackByFn"
                                            [ngClass]="{'ti3-selected-tr': diskCheckedList.indexOf(row) !== -1}">
                                            <!--使用复选框时，需要给复选框列加 checkbox-column 属性-->
                                            <td checkbox-column>
                                                <input type="checkbox" tiCheckitem [item]="row"
                                                    (change)="checkboxData(2)" />
                                            </td>
                                            <ng-container *ngFor="let item of diskTitle;index as indexData">
                                                <td tiOverflow
                                                    *ngIf="diskTitle[indexData].show|| diskTitle[indexData].show === undefined">
                                                    {{row['name'+indexData]}}</td>
                                            </ng-container>
                                        </tr>
                                    </tbody>
                                </table>
                                <ti-pagination autoHide="true" [(currentPage)]="diskCurrentPage"
                                    [pageSize]="diskPageSize" [(totalNumber)]="diskTotalNumber">
                                </ti-pagination>
                            </ti-table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 网络IO -->
            <div class="filterConfig_content">
                <!-- title -->
                <div class="filterConfig_title" [ngClass]="{'filterConfigClose': !showData.netWorkShow}"
                    (click)="showData.netWorkShow =!showData.netWorkShow">
                    <span>{{i18n.sys.net}}</span>
                    <img src="./assets/img/micarch/ticks-selected_dark.svg" *ngIf="showData.netWorkShow && !isIntellij">
                    <img src="./assets/img/micarch/ticks-selected_dark_intellij.svg"
                        *ngIf="showData.netWorkShow && isIntellij">

                    <hy-theme-content>
                        <img dark src="./assets/img/micarch/ticks-normal_dark.svg" *ngIf="!showData.netWorkShow">
                        <img light src="./assets/img/micarch/ticks-normal-light.png" *ngIf="!showData.netWorkShow">
                    </hy-theme-content>
                </div>
                <!-- 接口传输数据量统计 -->
                <div class="filterCondition" *ngIf="showData.netWorkShow">
                    <div class="margin-bottom-20">
                        <div class="average">
                            <input type="checkbox" tiCheckbox id='amountData' [(ngModel)]="transmission">
                            <label for='amountData' style="cursor: pointer;">{{i18n.sys.titles.netOk}}</label>
                        </div>
                        <div class="filterTitle_box div-margin" *ngIf="transmission">
                            <!-- 接口 -->
                            <div class="filterTitle margin-right-32">
                                <p>{{i18n.plugins_sysperf_title_interfaces}}</p>
                                <ti-select class="ti-select-set" [multiple]="false" [options]='okIfaceOption'
                                    [searchable]="true" [(ngModel)]="okIfaceSelected"
                                    (ngModelChange)="cpuTypeChange2(9)">
                                </ti-select>
                            </div>
                            <!-- 指标 -->
                            <div class="filterTitle">
                                <p>{{i18n.plugins_sysperf_title_indicator}}</p>
                                <div>
                                    <ti-select class="ti-select-set" [multiple]="true" [options]='okTypeOption'
                                        [searchable]="true" [(ngModel)]="okTypeSelected"
                                        (ngModelChange)="okIfaceTypeChange()">
                                    </ti-select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="selectTable div-margin" *ngIf="okIfaceTableShow&&transmission">
                        <div class="switch">
                            <span>{{okIfaceSwitch?okIfaceSelectTableData:0}}</span>
                            <span>{{okIfaceSwitch?0:okIfaceTotalData}}</span>
                            <div [ngClass]="{selectedLeft: okIfaceSwitch,selectedRight: !okIfaceSwitch}"
                                (click)="okIfaceSwitchData(true)">
                                {{okIfaceSwitch?okIfaceTotalData:okIfaceSelectTableData}}
                            </div>
                        </div>
                        <div class="selectTableBox">
                            <div class="headerFilter" *ngIf="okIfaceTitle.length>=4">
                                <img src="./assets/img/micarch/tableHeader.svg" alt=""
                                    (click)="okIfaceHeadShow = !okIfaceHeadShow">
                                <div class="statusFilter" [ngClass]="{'active': okIfaceHeadShow}"
                                    style="min-width: 185px;">
                                    <span *ngFor="let item of okIfaceHeaderData">
                                        <input type="checkbox" tiCheckitem [item]="item" [disabled]="item.disabled"
                                            [beCheckeds]="okIfaceCheckedData" [label]="item.title"
                                            (change)="okIfaceHeaderChange()">
                                        <span style="padding-left: 10px;"></span>
                                    </span>
                                </div>
                            </div>
                            <ti-table [(displayedData)]="okIfaceDisplayData" [srcData]="okIfaceContentData"
                                [columns]="okIfaceTitle">
                                <table>
                                    <thead>
                                        <tr>
                                            <!--使用复选框时，需要给复选框列加 checkbox-column 属性-->
                                            <th checkbox-column>
                                                <!--全选按钮-->
                                                <!--如果有分页，全选需要控制当前页时，items接口传入displayed
                                    如果全选要控制表格所有数据，items接口传入srcData.data-->
                                                <input type="checkbox" tiCheckgroup [items]="okIfaceDisplayData"
                                                    [(checkeds)]="okIfaceCheckedListKey" valueKey="id"
                                                    (change)="checkboxData(3)" />
                                            </th>
                                            <ng-container *ngFor="let item of okIfaceTitle;index as i">
                                                <th tiOverflow *ngIf="item.show || item.show === undefined">
                                                    <ti-cell-text>{{item.title}}</ti-cell-text>
                                                    <!-- sort接口为排序的属性名(字段，例如‘firstName’)-->
                                                    <ti-head-sort [sortKey]="item.sortKey"></ti-head-sort>
                                                </th>
                                            </ng-container>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!--注意:ngFor中的displayed数据与displayedData传入的数据一致, 初始化设置为[]即可-->
                                        <!--为了更好的渲染性能，建议在ngFor数据时总是trackBy数据条目中的某个唯一属性值(如id)-->
                                        <tr *ngFor="let row of okIfaceDisplayData;index as i;trackBy: trackByFn"
                                            [ngClass]="{'ti3-selected-tr': okIfaceCheckedList.indexOf(row) !== -1}">
                                            <!--使用复选框时，需要给复选框列加 checkbox-column 属性-->
                                            <td checkbox-column>
                                                <input type="checkbox" tiCheckitem [item]="row"
                                                    (change)="checkboxData(3)" />
                                            </td>
                                            <ng-container *ngFor="let item of okIfaceTitle;index as indexData">
                                                <td tiOverflow
                                                    *ngIf="okIfaceTitle[indexData].show|| okIfaceTitle[indexData].show === undefined">
                                                    {{row['name'+indexData]}}</td>
                                            </ng-container>
                                        </tr>
                                    </tbody>
                                </table>
                                <ti-pagination autoHide="true" [(currentPage)]="okIfaceCurrentPage"
                                    [pageSize]="okIfacePageSize" [(totalNumber)]="okIfaceTotalNumber">
                                </ti-pagination>
                            </ti-table>
                        </div>
                    </div>
                </div>
                <!-- 接口故障统计 -->
                <div class="filterCondition" *ngIf="showData.netWorkShow">
                    <div class="margin-bottom-20">
                        <div class="average">
                            <input type="checkbox" tiCheckbox id='malfunction' [(ngModel)]="malfunction">
                            <label for='malfunction' style="cursor: pointer;">{{i18n.sys.titles.netError}}</label>
                        </div>
                        <div class="filterTitle_box div-margin" *ngIf="malfunction">
                            <!-- 接口 -->
                            <div class="filterTitle margin-right-32">
                                <p>{{i18n.plugins_sysperf_title_interfaces}}</p>
                                <ti-select class="ti-select-set" [multiple]="false" [options]='errorIfaceOption'
                                    [searchable]="true" [(ngModel)]="errorIfaceSelected"
                                    (ngModelChange)="cpuTypeChange2(11)">
                                </ti-select>
                            </div>
                            <!-- 指标 -->
                            <div class="filterTitle">
                                <p>{{i18n.plugins_sysperf_title_indicator}}</p>
                                <div>
                                    <ti-select class="ti-select-set" [multiple]="true" [searchable]="true"
                                        [options]='errorTypeOption' [(ngModel)]="errorTypeSelected"
                                        (ngModelChange)="errorTypeChange()">
                                    </ti-select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="selectTable div-margin" *ngIf="errorTableShow&&malfunction">
                        <div class="switch">
                            <span>{{errorSwitchShow?errorSelectTableData:0}}</span>
                            <span>{{errorSwitchShow?0:errorTotalData}}</span>
                            <div [ngClass]="{selectedLeft: errorSwitchShow,selectedRight: !errorSwitchShow}"
                                (click)="errorSwitchData(true)">{{errorSwitchShow?errorTotalData:errorSelectTableData}}
                            </div>
                        </div>
                        <div class="selectTableBox">
                            <div class="headerFilter" *ngIf="errorTitle.length>=4">
                                <img src="./assets/img/micarch/tableHeader.svg" alt=""
                                    (click)="errorHeadShow = !errorHeadShow">
                                <div class="statusFilter" [ngClass]="{'active': errorHeadShow}"
                                    style="min-width: 185px;">
                                    <span *ngFor="let item of errorHeaderData">
                                        <input type="checkbox" tiCheckitem [item]="item" [disabled]="item.disabled"
                                            [beCheckeds]="errorCheckedData" [label]="item.title"
                                            (change)="errorHeaderChange()">
                                        <span style="padding-left: 10px;"></span>
                                    </span>
                                </div>
                            </div>
                            <ti-table [(displayedData)]="errorDisplayData" [srcData]="errorContentData"
                                [columns]="errorTitle">
                                <table>
                                    <thead>
                                        <tr>
                                            <!--使用复选框时，需要给复选框列加 checkbox-column 属性-->
                                            <th checkbox-column>
                                                <!--全选按钮-->
                                                <!--如果有分页，全选需要控制当前页时，items接口传入displayed
                              如果全选要控制表格所有数据，items接口传入srcData.data-->
                                                <input type="checkbox" tiCheckgroup [items]="errorDisplayData"
                                                    [(checkeds)]="errorCheckedListKey" valueKey="id"
                                                    (change)="checkboxData(4)" />
                                            </th>
                                            <ng-container *ngFor="let item of errorTitle;index as i">
                                                <th tiOverflow *ngIf="item.show || item.show === undefined">
                                                    <ti-cell-text>{{item.title}}</ti-cell-text>
                                                    <!-- sort接口为排序的属性名(字段，例如‘firstName’)-->
                                                    <ti-head-sort [sortKey]="item.sortKey"></ti-head-sort>
                                                </th>
                                            </ng-container>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!--注意:ngFor中的displayed数据与displayedData传入的数据一致, 初始化设置为[]即可-->
                                        <!--为了更好的渲染性能，建议在ngFor数据时总是trackBy数据条目中的某个唯一属性值(如id)-->
                                        <tr *ngFor="let row of errorDisplayData;index as i;trackBy: trackByFn"
                                            [ngClass]="{'ti3-selected-tr': errorCheckedList.indexOf(row) !== -1}">
                                            <!--使用复选框时，需要给复选框列加 checkbox-column 属性-->
                                            <td checkbox-column>
                                                <input type="checkbox" tiCheckitem [item]="row"
                                                    (change)="checkboxData(4)" />
                                            </td>
                                            <ng-container *ngFor="let item of errorTitle;index as indexData">
                                                <td tiOverflow
                                                    *ngIf="errorTitle[indexData].show|| errorTitle[indexData].show === undefined">
                                                    {{row['name'+indexData]}}</td>
                                            </ng-container>
                                        </tr>
                                    </tbody>
                                </table>
                                <ti-pagination autoHide="true" [(currentPage)]="errorCurrentPage"
                                    [pageSize]="errorPageSize" [(totalNumber)]="errorTotalNumber">
                                </ti-pagination>
                            </ti-table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 能耗 -->
            <div class="filterConfig_content">
                <!-- title -->
                <div class="filterConfig_title" [ngClass]="{'filterConfigClose': !showData.consumption}"
                    (click)="showData.consumption =!showData.consumption">
                    <span>{{i18n.plugins_sysperf_title_consumption.consumption}}</span>
                    <img src="./assets/img/micarch/ticks-selected_dark.svg" *ngIf="showData.consumption && !isIntellij">
                    <img src="./assets/img/micarch/ticks-selected_dark_intellij.svg"
                        *ngIf="showData.consumption && isIntellij">

                    <hy-theme-content>
                        <img dark src="./assets/img/micarch/ticks-normal_dark.svg" *ngIf="!showData.consumption">
                        <img light src="./assets/img/micarch/ticks-normal-light.png" *ngIf="!showData.consumption">
                    </hy-theme-content>
                </div>
            </div>
        </div>
    </ti-modal-body>
    <ti-modal-footer>
        <!-- 确定按钮 -->
        <div style="display: inline-block;">
            <button class="little-primary-btn" (click)="confirmConfig(context)">{{i18n.common_term_operate_ok}}</button>
            <button class="little-minor-btn" (click)="context.dismiss()">{{i18n.common_term_operate_close}}</button>
        </div>
    </ti-modal-footer>
</ng-template>