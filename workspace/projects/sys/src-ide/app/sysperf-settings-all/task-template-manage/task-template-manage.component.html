<div id="itemTaskModel" style="margin-bottom: 32px;">
    <div class='titleset'>{{i18n.mission_modal.missionTemplate}}</div>
    <div *ngIf="data.templateList.length !== 0" style="margin-top:-10px;">
        <button class="little-primary-btn" type="button" (click)="multipleDelete()"
            [disabled]='checkedIdList.length == 0'>{{i18n.plugin_perf_button_modelDel}}</button>
    </div>
    <ti-table [(displayedData)]="displayed" [srcData]="srcData" [columns]="columns" class="custemTable">
        <div class="ti3-table-fixed-head">
            <table>
                <thead>
                    <tr>
                        <th details-icon-column></th>
                        <th checkbox-column ng-show="srcData.data.length !== 0">
                            <input type="checkbox" tiCheckgroup valueKey="id" [items]="srcData.data"
                                [(checkeds)]="checkedIdList" />
                        </th>
                        <ng-container *ngFor="let column of columns;index as i;">
                            <th width="{{column.width}}" *ngIf=" i > 0 &&  3 > i">
                                <ti-cell-text>{{column.title}}</ti-cell-text>
                                <div class="filter-box" *ngIf="toolType !== ToolType.DIAGNOSE">
                                    <img [src]="sanitizer.bypassSecurityTrustResourceUrl(filterImgStatus[column.key])"
                                        (mouseenter)="imgStatusChange('hover', column.key)"
                                        (mousedown)="imgStatusChange('click', column.key)"
                                        (mouseleave)="imgStatusChange('normal', column.key)"
                                        (mouseup)="imgStatusChange('normal', column.key)">
                                    <div class="filter-box-list">
                                        <div class="filterItem">
                                            <input type="checkbox" tiCheckgroup [items]='column.options'
                                                [(checkeds)]="column.selected"
                                                [label]="i18n.plugins_perf_tip_sysSet.selectAll"
                                                (change)="onMyChange()">
                                        </div>
                                        <span *ngFor="let item of column.options">
                                            <input type="checkbox" tiCheckitem [item]="item" [label]="item.text">
                                        </span>
                                    </div>
                                </div>
                            </th>
                            <th *ngIf="i == 0 || i > 2" tiOverflow width="{{column.width}}">{{column.title}}
                            </th>
                        </ng-container>
                    </tr>
                </thead>
            </table>
        </div>
        <div class="ti3-table-container ti3-resize-wrapper" style="max-height: 272px;">
            <table>
                <thead>
                    <tr>
                        <th details-icon-column></th>
                        <th checkbox-column *ngIf="srcData.data.length !== 0"></th>
                        <th *ngFor="let column of columns" width="{{column.width}}"></th>
                    </tr>
                </thead>

                <tbody>
                    <ng-container *ngFor="let obj of displayed;index as i;trackBy: trackByFn">
                        <tr>
                            <td details-icon-column>
                                <ti-details-icon [row]="obj" [index]="i" (beforeToggle)="beforeToggle($event)">
                                </ti-details-icon>
                                <!--详情图标设置，传入行数据-->
                            </td>
                            <td checkbox-column *ngIf="srcData.data.length !== 0">
                                <input type="checkbox" tiCheckitem [item]="obj" />
                            </td>
                            <td tiOverflow>{{ obj.templateName }}</td>
                            <td tiOverflow>{{ obj.analysisTarget }}</td>
                            <td tiOverflow>{{ obj.analysisType }}</td>
                            <td>
                                <span class='aLink' (click)="delete(obj)">{{i18n.mission_modal.delete}}</span>
                            </td>
                        </tr>

                        <tr *tiDetailsTr="obj" class="tiDetailsTr template childTr"
                            [ngClass]="{'active': obj.showDetails}">
                            <td colspan="6" class="ti3-details-td collapsed" [ngStyle]="{'padding-left': '40px'}">
                                <!-- Tiny3.1.3版本新增，theme-ui3主题下不用加此div和类名。 -->
                                <div class="ti3-table-detail-container">
                                    <div class="indentLine"></div>

                                    <!-- 函数分析任务模板 C/C++ Program 2-->
                                    <div class="table" *ngIf="obj['analysis-type'] === missArr[0]">
                                        <ul style="width: 100%;">
                                            <li *ngFor="let obje of obj.configList" style="display: flex;">
                                                <p class="leftWidth" [ngClass]="{'wrap': obje.title === strObj.kcore}">
                                                    {{ obje.title }}</p>
                                                <p class="rightWidth">{{ obje.text || '--' }}</p>
                                            </li>
                                            <!-- 预约任务 -->
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.colectMethods}}</p>
                                                <p class="rightWidth">
                                                    {{obj.cycle? i18n.preSwitch.duraColect: i18n.preSwitch.onceColect}}
                                                </p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.pointTime}}</p>
                                                <p class="rightWidth">{{obj.targetTime}}</p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.pointDuration}}</p>
                                                <p class="rightWidth">{{ handleColectDate(obj) }}</p>
                                            </li>
                                        </ul>
                                        <!-- panel -->
                                        <div *ngIf="obj.switch">
                                            <div *ngFor="let item of obj.nodeConfig;let idx = index">
                                                <app-mission-panel [title]="item.nodeName + '(' + item.nodeIp + ')'"
                                                    [active]="tempStatus[obj.id] ? tempStatus[obj.id][idx] : false" (click)='onClick(obj.id,idx)'>
                                                    <div class="content-box">
                                                        <div class="content-list"
                                                            *ngIf="item.task_param['analysis-target'].indexOf('Profile') !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][0][3].title }}
                                                                </p>
                                                                <p>{{ item.task_param['cpu-mask'] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][0][4].title }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][0][5].title }}
                                                                </p>
                                                                <p>{{ item.task_param.sourceLocation || '--' }}</p>
                                                            </div>
                                                        </div>
                                                        <div class="content-list"
                                                            *ngIf="item.task_param['analysis-target'].indexOf( 'Launch') !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][2][0].title }}
                                                                </p>
                                                                <p>{{ item.task_param["app-dir"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][2][1].title }}
                                                                </p>
                                                                <p>{{ item.task_param["app-parameters"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][0][4].title }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][0][5].title }}
                                                                </p>
                                                                <p>{{ item.task_param.sourceLocation || '--' }}</p>
                                                            </div>
                                                        </div>
                                                        <div class="content-list"
                                                            *ngIf="item.task_param['analysis-target'].indexOf('Attach') !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.processName }}
                                                                </p>
                                                                <p>{{ item.task_param['process_name'] || '--' }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][1][0].title }}
                                                                </p>
                                                                <p>{{ item.task_param["target-pid"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][0][4].title }}
                                                                </p>
                                                                <p>{{ item.task_param.sourceLocation || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[0][0][5].title }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation || '--' }}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </app-mission-panel>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 函数分析任务模板  java-mixed-mode 3-->
                                    <div class="table" *ngIf="obj['analysis-type'] === missArr[1]">
                                        <ul style="width: 100%;">
                                            <li *ngFor="let obje of obj.configList" style="display: flex;">
                                                <p class="leftWidth">{{ obje.title }}</p>
                                                <p class="rightWidth">{{ obje.text || '--' }}</p>
                                            </li>
                                            <!-- 预约任务 -->
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.colectMethods}}</p>
                                                <p class="rightWidth">
                                                    {{obj.cycle? i18n.preSwitch.duraColect: i18n.preSwitch.onceColect}}
                                                </p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.pointTime}}</p>
                                                <p class="rightWidth">{{obj.targetTime}}</p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.pointDuration}}</p>
                                                <p class="rightWidth">{{ handleColectDate(obj) }}</p>
                                            </li>
                                        </ul>
                                        <!-- panel -->
                                        <div *ngIf="obj.switch">
                                            <div *ngFor="let item of obj.nodeConfig;let idx = index">
                                                <app-mission-panel [title]="item.nodeName + '(' + item.nodeIp + ')'"
                                                    [active]="tempStatus[obj.id] ? tempStatus[obj.id][idx] : false" (click)='onClick(obj.id,idx)'>
                                                    <div class="content-box">
                                                        <div class="content-list"
                                                            *ngIf="item.task_param['analysis-target'].indexOf( 'Launch' ) !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[1][1][0].title }}
                                                                </p>
                                                                <p>{{ item.task_param["app-dir"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[1][1][1].title }}
                                                                </p>
                                                                <p>{{ item.task_param["app-parameters"] || '--' }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[1][1][3].title }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="content-list"
                                                            *ngIf="item.task_param['analysis-target'].indexOf('Attach') !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[1][0][0].title }}
                                                                </p>
                                                                <p>{{ item.task_param["target-pid"] || '--' }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ missionDetail[1][0][3].title }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </app-mission-panel>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 锁与等待任务模板 system_lock 3 -->
                                    <div class="table" *ngIf="obj['analysis-type'] === 'system_lock'">
                                        <ul style="width: 100%;">
                                            <li *ngFor="let obje of obj.configList" style="display: flex;">
                                                <p class="leftWidth" [ngClass]="{'wrap': obje.title === strObj.kcore}">
                                                    {{ obje.title }}
                                                </p>
                                                <p class="rightWidth textOverflow"
                                                    *ngIf="obje.title === i18n.mission_modal.syslock.function"
                                                    [tiTip]='obje.text || "--"'>
                                                    {{ obje.text || "--" }}</p>
                                                <p class="rightWidth"
                                                    *ngIf="obje.title !== i18n.mission_modal.syslock.function">
                                                    {{ obje.text || '--' }}</p>
                                            </li>
                                            <!-- 预约任务 -->
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.colectMethods}}</p>
                                                <p class="rightWidth">
                                                    {{obj.cycle? i18n.preSwitch.duraColect: i18n.preSwitch.onceColect}}
                                                </p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.pointTime}}</p>
                                                <p class="rightWidth">{{obj.targetTime}}</p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.pointDuration}}</p>
                                                <p class="rightWidth">{{ handleColectDate(obj) }}</p>
                                            </li>
                                        </ul>
                                        <!-- panel -->
                                        <div *ngIf="obj.switch">
                                            <div *ngFor="let item of obj.nodeConfig;let idx = index">
                                                <app-mission-panel [title]="item.nodeName + '(' + item.nodeIp + ')'"
                                                    [active]="tempStatus[obj.id] ? tempStatus[obj.id][idx] : false" (click)='onClick(obj.id,idx)'>
                                                    <div class="content-box">
                                                        <div class="content-list" *ngIf="
                                                            item.task_param['analysis-target'].indexOf(
                                                                'Profile'
                                                            ) !== -1
                                                            ">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.lockSummary.filname }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.source_path }}
                                                                </p>
                                                                <p>{{ item.task_param.sourceLocation || '--' }}</p>
                                                            </div>
                                                        </div>
                                                        <div class="content-list" *ngIf="
                                                            item.task_param['analysis-target'].indexOf(
                                                                'Launch'
                                                            ) !== -1
                                                            ">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.cProcess.app_path }}
                                                                </p>
                                                                <p>{{ item.task_param["app-dir"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.syslock.app_params }}
                                                                </p>
                                                                <p>{{ item.task_param["app-parameters"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.lockSummary.filname }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.source_path }}
                                                                </p>
                                                                <p>{{ item.task_param.sourceLocation || '--' }}</p>
                                                            </div>
                                                        </div>
                                                        <div class="content-list" *ngIf="
                                                            item.task_param['analysis-target'].indexOf(
                                                                'Attach'
                                                            ) !== -1
                                                            ">
                                                            <div class="lable-right">
                                                                <p class="label">{{ i18n.mission_modal.sysSource.pid }}
                                                                </p>
                                                                <p>{{ item.task_param["target-pid"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">{{ i18n.mission_create.process_alias }}
                                                                </p>
                                                                <p>{{ item.task_param["process_name"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.lockSummary.filname }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.source_path }}
                                                                </p>
                                                                <p>{{ item.task_param.sourceLocation || '--' }}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </app-mission-panel>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 系统分析任务模板  system 1-->
                                    <div class="table" *ngIf="obj['analysis-type'] === missArr[3]">
                                        <div class="table-left">
                                            <ul>
                                                <li *ngFor="let obje of missionDetail[3]">
                                                    <p>{{ obje.calcTitle ? obje.calcTitle(obj) : obje.title }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ i18n.preSwitch.colectMethods }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ i18n.preSwitch.pointTime }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ i18n.preSwitch.pointDuration }}</p>
                                                </li>
                                                <ng-container *ngIf="obj.sceneSolution === 2">
                                                    <li>
                                                        <p tiOverflow>{{ i18n.databaseConfig.ip }}</p>
                                                    </li>
                                                    <li>
                                                        <p tiOverflow>{{ i18n.databaseConfig.port }}</p>
                                                    </li>
                                                    <li>
                                                        <p tiOverflow>{{ i18n.sys.scenes_tracing }}</p>
                                                    </li>
                                                    <li>
                                                        <p tiOverflow>{{ i18n.sys.tracing_event }}</p>
                                                    </li>
                                                </ng-container>
                                            </ul>
                                        </div>
                                        <div class="table-right">
                                            <ul>
                                                <li>
                                                    <p>{{ obj["taskname"] || '--' }}</p>
                                                </li>
                                                <li>
                                                    <p>{{ obj["interval"] || '--' }}</p>
                                                </li>
                                                <li>
                                                    <p>{{ obj["duration"] || '--' }}</p>
                                                </li>
                                                <li>
                                                    <p>{{ obj["topCheck"] === true ? this.i18n.status_Yes :
                                                        this.i18n.status_No }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>
                                                        {{
                                                        obj["cycle"]
                                                        ? i18n.preSwitch.duraColect
                                                        : i18n.preSwitch.onceColect
                                                        }}
                                                    </p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ obj["targetTime"] }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ handleColectDate(obj) }}</p>
                                                </li>
                                                <ng-container *ngIf="obj.sceneSolution === 2">
                                                    <li>
                                                        <p>{{ obj.sqlIp || '--' }}</p>
                                                    </li>
                                                    <li>
                                                        <p>{{ obj.sqlPort || '--' }}</p>
                                                    </li>
                                                    <li>
                                                        <p>{{ obj.traceSwitch === true ? this.i18n.status_Yes :
                                                            this.i18n.status_No }}</p>
                                                    </li>
                                                    <li>
                                                        <p>{{ obj.events || '--' }}</p>
                                                    </li>
                                                </ng-container>
                                            </ul>
                                        </div>
                                        <!-- mission-panel -->
                                        <div *ngIf="obj.switch && obj.sceneSolution === 2">
                                            <div *ngFor="let item of obj.nodeConfig;let idx = index">
                                                <app-mission-panel [title]="item.nodeName + '(' + item.nodeIp + ')'"
                                                    [active]="tempStatus[obj.id] ? tempStatus[obj.id][idx] : false" (click)='onClick(obj.id,idx)'>

                                                    <div class="content-box">
                                                        <div class="content-list">
                                                            <div class="lable-right">
                                                                <p class="label">{{ i18n.databaseConfig.ip }}</p>
                                                                <p>{{ item.task_param['sqlIp'] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">{{ i18n.databaseConfig.port }}</p>
                                                                <p>{{ item.task_param['sqlPort'] || '--' }}</p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </app-mission-panel>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 系统分析任务模板 system_config 1-->
                                    <div class="table" *ngIf="obj['analysis-type'] === missArr[4]">
                                        <div class="table-left">
                                            <ul>
                                                <li *ngFor="let obje of missionDetail[4]">
                                                    <p>{{ obje.calcTitle ? obje.calcTitle(obj) : obje.title }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ i18n.preSwitch.colectMethods }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ i18n.preSwitch.pointTime }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ i18n.preSwitch.pointDuration }}</p>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="table-right">
                                            <ul>
                                                <li>
                                                    <p>
                                                        <span style="margin-right: 5px;">{{ handleObj(obj['task_param'])
                                                            }}</span>
                                                    </p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>
                                                        {{
                                                        obj["cycle"]
                                                        ? i18n.preSwitch.duraColect
                                                        : i18n.preSwitch.onceColect
                                                        }}
                                                    </p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ obj["targetTime"] }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ handleColectDate(obj) }}</p>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <!-- 系统分析任务模板 资源调度 resource_schedule 3-->
                                    <div class="table" *ngIf="obj['analysis-type'] === missArr[5]">
                                        <ul style="width: 100%;">
                                            <li *ngFor="let obje of obj.configList" style="display: flex;">
                                                <p class="leftWidth">{{ obje.key }}</p>
                                                <p class="rightWidth">{{ obje.text || '--' }}</p>
                                            </li>
                                            <!-- 预约任务 -->
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.colectMethods}}</p>
                                                <p class="rightWidth">
                                                    {{obj.cycle? i18n.preSwitch.duraColect: i18n.preSwitch.onceColect}}
                                                </p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.pointTime}}</p>
                                                <p class="rightWidth">{{obj.targetTime}}</p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{i18n.preSwitch.pointDuration}}</p>
                                                <p class="rightWidth">{{ handleColectDate(obj) }}</p>
                                            </li>
                                        </ul>
                                        <!-- panel -->
                                        <div *ngIf="obj.switch">
                                            <div *ngFor="let item of obj.nodeConfig;let idx = index">
                                                <app-mission-panel [title]="item.nodeName + '(' + item.nodeIp + ')'"
                                                [active]="tempStatus[obj.id] ? tempStatus[obj.id][idx] : false" (click)='onClick(obj.id,idx)'>
                                                    <div class="content-box">
                                                        <div class="content-list"
                                                            *ngIf="item.task_param['analysis-target'].indexOf('Profile' ) !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.file_path }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation || '--' }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="content-list"
                                                            *ngIf="item.task_param['analysis-target'].indexOf( 'Launch' ) !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.common_term_task_crate_app_path }}
                                                                </p>
                                                                <p>{{ item.task_param["app-dir"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.app_params }}
                                                                </p>
                                                                <p>{{ item.task_param["app-parameters"] || '--' }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.file_path }}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation || '--' }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="content-list"
                                                            *ngIf="item.task_param['analysis-target'].indexOf('Attach') !== -1 ">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.pid }}
                                                                </p>
                                                                <p>{{ item.task_param["target-pid"] || '--' }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.processName }}
                                                                </p>
                                                                <p>{{ item.task_param['process-name'] || '--' }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.file_path}}
                                                                </p>
                                                                <p>{{ item.task_param.assemblyLocation || '--' }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </app-mission-panel>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 微架构分析任务模板 microarchitecture-->
                                    <div class="table" *ngIf="obj['analysis-type'] === missArr[8]">
                                        <div class="table-left">
                                            <ul>
                                                <li>
                                                    <p>{{this.i18n.task_name}}</p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Profile System'">
                                                    <p>{{this.i18n.ddr.analysisMode}}</p>
                                                </li>
                                                <li>
                                                    <p>{{i18n.micarch.label.simpling}}</p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Attach to Process'">
                                                    <p>{{i18n.mission_create.process_alias}}</p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Attach to Process'">
                                                    <p>{{ i18n.common_term_task_crate_pid}}</p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Launch Application'">
                                                    <p>{{ i18n.common_term_task_crate_app_path}}</p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Launch Application'">
                                                    <p>{{i18n.common_term_task_crate_parameters}}</p>
                                                </li>
                                                <li>
                                                    <p>{{i18n.sys.duration}}</p>
                                                </li>
                                                <li>
                                                    <p>{{i18n.mission_modal.syslock.cpu_interval}}</p>
                                                </li>
                                                <li>
                                                    <p>{{i18n.micarch.label.analysis}}</p>
                                                </li>
                                                <li *ngIf="obj.analysisTarget === 'Profile System'">
                                                    <p>{{i18n.micarch.cpu_kernel}}</p>
                                                </li>
                                                <li>
                                                    <p>{{i18n.micarch.label.typeItem}}</p>
                                                </li>
                                                <li>
                                                    <p>{{i18n.micarch.simpling_delay}}</p>
                                                </li>
                                                <li>
                                                    <p>{{i18n.common_term_task_crate_c_path}}</p>
                                                </li>
                                                <li>
                                                    <p [ngClass]="{'wrap': i18n.mission_create.kcore === strObj.kcore}">
                                                        {{ i18n.mission_create.kcore }}</p>
                                                </li>
                                                <li>
                                                    <p>{{i18n.falsesharing.filesize
                                                        + ' '
                                                        + i18n.ddr.leftParenthesis
                                                        + 'MiB'
                                                        + i18n.ddr.rightParenthesis}}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ i18n.preSwitch.colectMethods }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ i18n.preSwitch.pointTime }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ i18n.preSwitch.pointDuration }}</p>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="table-right">
                                            <ul>
                                                <li>
                                                    <p>
                                                        {{ obj.taskName || '--' }}
                                                    </p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Profile System'">
                                                    <p>{{obj.nodeConfig[0].taskParam.analysisTarget}}</p>
                                                </li>
                                                <li>
                                                    <p>
                                                        {{ obj.samplingMode || '--' }}
                                                    </p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Attach to Process'">
                                                    <p>
                                                        {{ decoding(obj.process_name) || '--' }}
                                                    </p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Attach to Process'">
                                                    <p>
                                                        {{ obj.targetPid || '--' }}
                                                    </p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Launch Application'">
                                                    <p>{{ obj.appDir || '--' }}</p>
                                                </li>
                                                <li
                                                    *ngIf="obj.nodeConfig[0].taskParam.analysisTarget === 'Launch Application'">
                                                    <p>{{obj.appParameters || '--'}}</p>
                                                </li>
                                                <li>
                                                    <p>
                                                        {{ obj.duration || '--' }}
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>
                                                        {{ obj.interval || '--' }}
                                                    </p>
                                                </li>
                                                <li>
                                                    <p [tiTip]='obj["analysisIndex"]'>
                                                        {{ obj.analysisIndex || '--' }}
                                                    </p>
                                                </li>
                                                <li *ngIf="obj.analysisTarget === 'Profile System'">
                                                    <p>
                                                        {{ obj.cpuMask || '--' }}
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>
                                                        {{ getMicarchType(obj.samplingSpace) }}
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>
                                                        {{ obj.samplingDelay }}
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>{{ obj.sourceLocation || '--' }}</p>
                                                </li>
                                                <li>
                                                    <p>{{ obj.kcore ? i18n.process.enable : i18n.process.disable }}</p>
                                                </li>
                                                <li>
                                                    <p>{{ obj.perfDataLimit || '--' }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>
                                                        {{
                                                        obj.cycle
                                                        ? i18n.preSwitch.duraColect
                                                        : i18n.preSwitch.onceColect
                                                        }}
                                                    </p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ obj.targetTime }}</p>
                                                </li>
                                                <li *ngIf="obj.hasOwnProperty('cycle')">
                                                    <p>{{ handleColectDate(obj) }}</p>
                                                </li>
                                            </ul>
                                        </div>
                                        <!-- panel -->
                                        <div *ngIf="obj.switch">
                                            <div *ngFor="let item of obj.nodeConfig;let idx = index">
                                                <app-mission-panel [title]="item.nodeName + '(' + item.nodeIp + ')'"
                                                    [active]="tempStatus[obj.id] ? tempStatus[obj.id][idx] : false" (click)='onClick(obj.id,idx)'>
                                                    <div class="content-box">
                                                        <div class="content-list"
                                                            *ngIf=" item.taskParam['analysisTarget'].indexOf('Profile' ) !== -1 ">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.micarch.cpu_kernel }}
                                                                </p>
                                                                <p>{{ item.taskParam.cpuMask || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.common_term_task_crate_c_path }}
                                                                </p>
                                                                <p>{{ item.taskParam.sourceLocation || '--' }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="content-list"
                                                            *ngIf="item.taskParam['analysisTarget'].indexOf('Launch') !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.common_term_task_crate_app_path}}
                                                                </p>
                                                                <p>{{ item.taskParam["appDir"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.common_term_task_crate_parameters }}
                                                                </p>
                                                                <p>{{ item.taskParam["appParameters"] || '--' }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.common_term_task_crate_c_path }}
                                                                </p>
                                                                <p>{{ item.taskParam.sourceLocation || '--' }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="content-list"
                                                            *ngIf="item.taskParam['analysisTarget'].indexOf('Attach') !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.common_term_task_crate_pid }}
                                                                </p>
                                                                <p>{{ item.taskParam["targetPid"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.processName }}
                                                                </p>
                                                                <p>{{ item.taskParam['process_name'] || '--' }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.common_term_task_crate_c_path}}
                                                                </p>
                                                                <p>{{ item.taskParam.sourceLocation || '--' }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </app-mission-panel>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 访存分析、访存统计分析、Miss事件统计、进程/线程分析 -->
                                    <div
                                        *ngIf="['mem_access', 'miss_event', 'falsesharing', 'process-thread-analysis'].includes(obj['analysis-type'])">
                                        <div class="list-info">
                                            <div class="table">
                                                <div class="config-info" *ngFor="let item of obj.configList">
                                                    <div class="table-left"
                                                        [ngClass]="{'wrap': item.key === strObj.kcore}">{{item.key}}
                                                    </div>
                                                    <div class="table-right" *ngIf="isInterval(item.key)">
                                                        {{item.text | thousandSeparator }}</div>
                                                    <div class="table-right" *ngIf="!isInterval(item.key)">
                                                        {{item.text || '--' }} </div>

                                                </div>
                                                <div class="content-box config-info"
                                                    *ngIf="obj.hasOwnProperty('cycle')">
                                                    <div class="table-left">{{i18n.preSwitch.colectMethods}}</div>
                                                    <div class="table-right">
                                                        {{obj.cycle? i18n.preSwitch.duraColect:
                                                        i18n.preSwitch.onceColect}}
                                                    </div>
                                                </div>
                                                <div class="content-box config-info"
                                                    *ngIf="obj.hasOwnProperty('cycle')">
                                                    <div class="table-left">{{i18n.preSwitch.pointTime}}</div>
                                                    <div class="table-right">{{obj.targetTime}}</div>
                                                </div>
                                                <div class="content-box config-info"
                                                    *ngIf="obj.hasOwnProperty('cycle')">
                                                    <div class="table-left">{{i18n.preSwitch.pointDuration}}</div>
                                                    <div class="table-right">{{ handleColectDate(obj) }}</div>
                                                </div>
                                                <!-- 配置节点参数 -->
                                                <div *ngIf="obj.switch ">
                                                    <div *ngFor="let item of obj.nodeConfig index as i"> 
                                                        <app-mission-panel
                                                            [title]="item.nodeName + '(' + item.nodeIp + ')'"
                                                            [active]="tempStatus[obj.id] ? tempStatus[obj.id][i] : false" (click)='onClick(obj.id,i)'>
                                                            <div class="content-box"
                                                                *ngIf="['mem_access', 'miss_event'].includes(obj['analysis-type'])">
                                                                <div class="content-list"
                                                                    *ngIf="item.task_param.task_param">
                                                                    <div class="lable-right"
                                                                        *ngIf="item.task_param.task_param.app">
                                                                        <!-- 应用 -->
                                                                        <p class="label">
                                                                            {{ i18n.common_term_task_crate_app_path}}
                                                                        </p>
                                                                        <p>{{ item.task_param.task_param.app || '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right"
                                                                        *ngIf="item.task_param.task_param.app">
                                                                        <!-- 应用参数 -->
                                                                        <p class="label">
                                                                            {{ i18n.common_term_task_crate_parameters }}
                                                                        </p>
                                                                        <p>{{ item.task_param.task_param.appArgs || '--'
                                                                            }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right"
                                                                        *ngIf="item.task_param.task_param.pid">
                                                                        <p class="label">
                                                                            {{ i18n.common_term_task_crate_pid }}
                                                                        </p>
                                                                        <p>{{ item.task_param.task_param.pid || '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right"
                                                                        *ngIf="item.task_param.task_param.pid">
                                                                        <p class="label">
                                                                            {{ i18n.mission_modal.sysSource.processName
                                                                            }}
                                                                        </p>
                                                                        <p>{{ item.task_param.task_param.process_name ||
                                                                            '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right"
                                                                        *ngIf="item.task_param.task_param.target === 'sys'">
                                                                        <p class="label">
                                                                            {{ i18n.micarch.cpu_kernel }}
                                                                        </p>
                                                                        <p>{{ item.task_param.task_param.cpu || '--'
                                                                            }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.common_term_task_crate_c_path }}
                                                                        </p>
                                                                        <p>{{ item.task_param.task_param.srcDir || '--'
                                                                            }}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- 伪共享 -->
                                                            <div class="content-box"
                                                                *ngIf="obj['analysis-type'] === 'falsesharing'">
                                                                <div class="content-list"
                                                                    *ngIf="item.task_param['analysis-target'].indexOf('Profile') !== -1 ">
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.micarch.cpu_kernel }}
                                                                        </p>
                                                                        <p>{{ item.task_param.cpuMask || '--' }}</p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ missionDetail[5][0][1].title }}
                                                                        </p>
                                                                        <p>{{ item.task_param.assemblyLocation || '--'
                                                                            }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ missionDetail[5][0][2].title }}
                                                                        </p>
                                                                        <p>{{ item.task_param.sourceLocation || '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{
                                                                            i18n.storageIO.mission_create.collection_size
                                                                            }}
                                                                        </p>
                                                                        <p>{{ item.task_param.filesize || '--' }}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="content-list"
                                                                    *ngIf="item.task_param['analysis-target'].indexOf( 'Launch' ) !== -1">
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.common_term_task_crate_app_path}}
                                                                        </p>
                                                                        <p>{{ item.task_param.appDir || '--' }}</p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.mission_modal.sysSource.app_params
                                                                            }}
                                                                        </p>
                                                                        <p>{{ item.task_param.appParameters || '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.micarch.cpu_kernel }}
                                                                        </p>
                                                                        <p>{{ item.task_param.cpuMask || '--' }}</p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ missionDetail[5][0][1].title }}
                                                                        </p>
                                                                        <p>{{ item.task_param.assemblyLocation || '--'
                                                                            }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ missionDetail[5][0][2].title }}
                                                                        </p>
                                                                        <p>{{ item.task_param.sourceLocation || '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{
                                                                            i18n.storageIO.mission_create.collection_size
                                                                            }}
                                                                        </p>
                                                                        <p>{{ item.task_param.filesize || '--' }}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="content-list"
                                                                    *ngIf="item.task_param['analysis-target'].indexOf('Attach') !== -1 ">
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.mission_modal.sysSource.pid }}
                                                                        </p>
                                                                        <p>{{ item.task_param.pid || '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.mission_modal.sysSource.processName
                                                                            }}
                                                                        </p>
                                                                        <p>{{ item.task_param['process_name'] || '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.micarch.cpu_kernel }}
                                                                        </p>
                                                                        <p>{{ item.task_param.cpuMask || '--' }}</p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ missionDetail[5][0][1].title }}
                                                                        </p>
                                                                        <p>{{ item.task_param.assemblyLocation || '--'
                                                                            }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ missionDetail[5][0][2].title }}
                                                                        </p>
                                                                        <p>{{ item.task_param.sourceLocation || '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{
                                                                            i18n.storageIO.mission_create.collection_size
                                                                            }}
                                                                        </p>
                                                                        <p>{{ item.task_param.filesize || '--' }}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!-- 进程 -->
                                                            <div class="content-box"
                                                                *ngIf="obj['analysis-type'] === 'process-thread-analysis'">
                                                                <div class="content-list"
                                                                    *ngIf="item.task_param['analysis-target'].indexOf( 'Launch' ) !== -1">
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.common_term_task_crate_app_path}}
                                                                        </p>
                                                                        <p>{{ item.task_param["app-dir"] || '--' }}</p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.mission_modal.sysSource.app_params
                                                                            }}
                                                                        </p>
                                                                        <p>{{ item.task_param["app-parameters"] || '--'
                                                                            }}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                                <div class="content-list"
                                                                    *ngIf="item.task_param['analysis-target'].indexOf('Attach') !== -1 ">
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.mission_modal.sysSource.pid }}
                                                                        </p>
                                                                        <p>{{ item.task_param.targetPid ||
                                                                            item.task_param.pid || '--' }}
                                                                        </p>
                                                                    </div>
                                                                    <div class="lable-right">
                                                                        <p class="label">
                                                                            {{ i18n.mission_modal.sysSource.processName
                                                                            }}
                                                                        </p>
                                                                        <p>{{ item.task_param['process_name'] || '--' }}
                                                                        </p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </app-mission-panel>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- io分析 -->
                                    <div class="table" *ngIf="obj['analysis-type'] === 'ioperformance'">
                                        <app-mession-io-detail [taskInfo]="obj"></app-mession-io-detail>
                                    </div>
                                    <!-- hpc任务模板-->
                                    <div class="table" *ngIf="obj['analysis-type'] === 'hpc_analysis'">
                                        <ul style="width: 100%;">
                                            <li *ngFor="let obje of obj.configList" style="display: flex;">
                                                <p class="leftWidth">{{ obje.key }}</p>
                                                <p class="rightWidth">{{ obje.text || '--' }}</p>
                                            </li>
                                            <!-- 预约任务 -->
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{ i18n.preSwitch.colectMethods }}</p>
                                                <p class="rightWidth">
                                                    {{ obj.cycle? i18n.preSwitch.duraColect: i18n.preSwitch.onceColect
                                                    }}
                                                </p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{ i18n.preSwitch.pointTime }}</p>
                                                <p class="rightWidth">{{ obj.targetTime }}</p>
                                            </li>
                                            <li *ngIf="obj.hasOwnProperty('cycle')" style="display: flex;">
                                                <p class="leftWidth">{{ i18n.preSwitch.pointDuration }}</p>
                                                <p class="rightWidth">{{ handleColectDate(obj) }}</p>
                                            </li>
                                        </ul>
                                        <!-- mission-panel -->
                                        <div *ngIf="obj?.hpc_mlt_rank_info?.length > 0">
                                            <div *ngFor="let item of obj.hpc_mlt_rank_info;let idx = index">
                                                <app-mission-panel
                                                    [title]="item.IP"
                                                    [active]="tempStatus[obj.id] ? tempStatus[obj.id][idx] : false" (click)='onClick(obj.id,idx)'>
                                                    <div class="content-box">
                                                        <div class="content-list">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    RANK
                                                                </p>
                                                                <p>{{ item.rank || '--' }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </app-mission-panel>
                                            </div>
                                        </div>
                                        <div *ngIf="obj.nodeConfig && obj.switch">
                                            <div *ngFor="let item of obj.nodeConfig;let idx = index">
                                                <app-mission-panel
                                                    [title]="item.nodeName + '(' + item.nodeIp + ')'" [active]="tempStatus[obj.id] ? tempStatus[obj.id][idx] : false" (click)='onClick(obj.id,idx)'>
                                                    <div class="content-box">
                                                        <div class="content-list"  
                                                        *ngIf="item.task_param['analysis-target'].indexOf( 'Launch' ) !== -1">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.common_term_task_crate_app_path}}
                                                                </p>
                                                                <p>{{ item.task_param["app-dir"] || '--' }}</p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.app_params
                                                                    }}
                                                                </p>
                                                                <p>{{ item.task_param["app-parameters"] || '--'
                                                                    }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.hpc.mission_create.openMpParams
                                                                    }}
                                                                </p>
                                                                <p tiOverflow>{{ item.task_param.open_mp_param || '--'
                                                                    }}
                                                                </p>
                                                            </div>
                                                            
                                                        </div>
                                                        <div class="content-list"
                                                            *ngIf="item.task_param['analysis-target'].indexOf('Attach') !== -1 ">
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.processName
                                                                    }}
                                                                </p>
                                                                <p>{{ decoding(item.task_param['process_name'])
                                                                    || '--' }}
                                                                </p>
                                                            </div>
                                                            <div class="lable-right">
                                                                <p class="label">
                                                                    {{ i18n.mission_modal.sysSource.pid }}
                                                                </p>
                                                                <p>{{ item.task_param.targetPid ||
                                                                    item.task_param.pid || '--' }}
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </app-mission-panel>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 内存诊断 -->
                                    <div *ngIf="obj['analysis-type'] === 'memory_diagnostic'">
                                        <app-diagnose-template [taskInfo]="obj" [detailTarget]="obj.detailTarget">
                                        </app-diagnose-template>
                                    </div>
                                    <!-- 网络IO诊断 -->
                                    <div class="table" *ngIf="obj['analysis-type'] === 'netio_diagnostic'">
                                        <app-net-io-temp-detail [taskInfo]="obj"></app-net-io-temp-detail>
                                    </div>
                                    <!-- 存储IO -->
                                    <div class="table" *ngIf="obj['analysis-type'] === 'storageio_diagnostic'">
                                        <app-storage-io-temp-detail [taskInfo]="obj"></app-storage-io-temp-detail>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    </ng-container>
                </tbody>
            </table>
            <app-default-page *ngIf="displayed.length === 0" [text]="nodataTips" [image]="image"></app-default-page>
        </div>
    </ti-table>
</div>

<!-- 指定删除模板弹框 -->
<app-pop-mask #deleteMask>
    <div class="content">
        <div class="mask-title">
            <span class="create-title">{{i18n.plugin_perf_template_del_notice}}</span>
            <span (click)="closeSingleDelete()" class="tip-close">
                <img class="incorrect" src="./assets/img/header/close_icon.svg" />
                <img class="incorrect" src="./assets/img/header/close_icon_hover.svg">
            </span>
        </div>

        <div class="tip_title">
            <img src="./assets/img/mission/warn_arr.svg" alt="">
            <span>{{i18n.plugin_perf_tip_confirmDel}}</span> {{ template.name }}?
        </div>

        <div class="footer_button">
            <button class="cancel-btn mr-20" (click)='deleteOk()'>{{i18n.common_term_operate_ok}}</button>
            <button class="primary-btn" (click)='closeSingleDelete()'>{{i18n.common_term_operate_cancel}}</button>
        </div>
    </div>
</app-pop-mask>

<!-- 批量删除模板弹框 -->
<app-pop-mask #multipleDeleteMask>
    <div class="content" style="width:660px;">
        <div class="mask-title">
            <span class="create-title">{{i18n.plugin_perf_button_modelDel}}</span>
            <span (click)="closeDelete()" class="tip-close">
                <img class="incorrect" src="./assets/img/header/close_icon.svg" />
                <img class="incorrect" src="./assets/img/header/close_icon_hover.svg">
            </span>
        </div>
        <div class="tip_title">
            <img src="./assets/img/mission/warn_arr.svg" alt="">
            <span>{{i18n.plugin_perf_tip_modelMulDel}}</span>
        </div>
        <div class="content_container">
            <ti-table [(displayedData)]="displayedOk" [srcData]="srcDataOk" [columns]="columns.slice(0,3)">
                <div class="ti3-table-fixed-head">
                    <table style="table-layout: fixed;">
                        <thead>
                            <tr>
                                <th checkbox-column width='10%'>
                                    <input type="checkbox" tiCheckgroup [items]="srcDataOk.data"
                                        [(checkeds)]="checkedListOk" (change)=toggleSelect() />
                                </th>
                                <ng-container *ngFor="let column of columns.slice(0,3);index as i;">
                                    <th tiOverflow width='{{column.width}}'>{{column.title}}</th>
                                </ng-container>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="ti3-table-container">
                    <table style="border-collapse: collapse;">
                        <thead>
                            <tr>
                                <th width='10%'></th>
                                <th *ngFor="let column of columns.slice(0,3)" width='{{column.width}}'></th>
                            </tr>
                        </thead>

                        <tbody>
                            <ng-container *ngFor="let row of displayedOk;index as i;trackBy: trackByFn">
                                <tr>
                                    <td checkbox-column>
                                        <input type="checkbox" tiCheckitem [item]="row" (change)=toggleSelect() />
                                    </td>
                                    <td tiOverflow>{{ row.templateName }}</td>
                                    <td tiOverflow>{{ row.analysisTarget }}</td>
                                    <td tiOverflow>{{ row.analysisType }}</td>
                                </tr>
                            </ng-container>
                        </tbody>
                    </table>
                </div>
            </ti-table>
        </div>
        <div class="footer_button">
            <button class="cancel-btn mr-20" [disabled]='checkedListOk.length == 0'
                (click)='multipleDeleteOk()'>{{i18n.common_term_operate_ok}}</button>
            <button class="primary-btn" (click)='closeDelete()'>{{i18n.common_term_operate_cancel}}</button>
        </div>
    </div>
</app-pop-mask>