
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="大数据flink、kafka、storm组件中，部分参数数据为None">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="zh-cn_topic_0000001224201323.html">
<meta name="prodname" content="">
<meta name="version" content="2.3.0">
<meta name="brand" content="鲲鹏性能分析工具 (系统性能分析)">
<meta name="DC.Publisher" content="20211230">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ZH-CN_TOPIC_0000001178722980">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>大数据flink、kafka、storm组件中，部分参数数据为None</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="ZH-CN_TOPIC_0000001178722980"></a><a name="ZH-CN_TOPIC_0000001178722980"></a>

<h1 class="topictitle1">大数据flink、kafka、storm组件中，部分参数数据为None</h1>
<div id="body8662426"><div class="section" id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_section16642114110209"><h4 class="sectiontitle">现象描述</h4><p id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_p348115422011">在大数据工程下的flink、kafka、storm组件中，有部分参数采集不到，显示为None，如<a href="#ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_fig143361749112112">图1</a>所示。</p>
<div class="fignone" id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_fig143361749112112"><a name="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_fig143361749112112"></a><a name="zh-cn_topic_0000001135274990_fig143361749112112"></a><span class="figcap"><b>图1 </b>大数据采集</span><br><span><img id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_image0336144922110" src="zh-cn_image_0000001179041598.png"></span></div>
<p id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_p1964341216225">包含参数如下：</p>
<ul id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_ul558017280224"><li id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_li13580112819221">log.dir</li><li id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_li75801728192219">num.network.threads</li><li id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_li13580028142211">num.io.threads</li><li id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_li45801628152215">compression.type</li><li id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_li95801628162218">num.partitions</li></ul>
</div>
<div class="section" id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_section7360173611223"><h4 class="sectiontitle">可能原因</h4><p id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_p09457413214">malluma用户没有权限读取kafka/conf/server.properties文件，无法采集到相关参数。</p>
</div>
<div class="section" id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_section2060875316228"><h4 class="sectiontitle">处理步骤</h4><ul id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_ul132881130215"><li id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_li1128811133218">方案一：以root用户身份增加malluma用户对kafka/conf/server.properties文件的读取权限。</li></ul>
<ol id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_ol591514422217"><li id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_li1791512443226"><span>进入kafka配置文件所在目录，如/etc/kafka/conf，其中/etc为kafka安装所在目录。</span><p><p id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_p202346142318"><strong id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_b152344118236">cd </strong><strong id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_b342210652315"><em id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_i62341512235">/etc/kafka/conf</em></strong></p>
</p></li><li id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_li242291617233"><span>对相关文件（server.properties）进行权限修改。</span><p><p id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_p3349182814231"><strong id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_b17349828112317">chmod 644 </strong><strong id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_b19891132172319"><em id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_i17349112815234">server.properties</em></strong></p>
</p></li></ol>
<ul id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_ul117351054122513"><li id="ZH-CN_TOPIC_0000001178722980__zh-cn_topic_0000001135274990_li20735654132514">方案二：将kafka安装到/etc或/usr/local目录下，工具可以通过sudo提权，读取/etc/kafka/conf/server.properties或/usr/local/conf/server.properties，采集到相关参数。</li></ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="zh-cn_topic_0000001224201323.html">FAQ</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">版权所有 &copy; 华为技术有限公司</div></body>
</html>