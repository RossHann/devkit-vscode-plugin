
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Failed to Collect the Analysis Task That Require the Local Node to Invoke the perf Command">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000001224201323.html">
<meta name="prodname" content="">
<meta name="version" content="2.3.0">
<meta name="brand" content="Kunpeng Hyper Tuner (System Profiler)">
<meta name="DC.Publisher" content="20211230">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001186469228">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Failed to Collect the Analysis Task That Require the Local Node to Invoke the perf Command</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000001186469228"></a><a name="EN-US_TOPIC_0000001186469228"></a>

<h1 class="topictitle1">Failed to Collect the Analysis Task That Require the Local Node to Invoke the perf Command</h1>
<div id="body0000001186469228"><div class="section" id="EN-US_TOPIC_0000001186469228__en-us_topic_0306922091_en-us_topic_0220116450_section13779133512387"><h4 class="sectiontitle">Symptom</h4><p id="EN-US_TOPIC_0000001186469228__p26901763398">The resource scheduling analysis task fails to be collected, and the message "Adapt to the kernel of the server node and ensure that the perf version is compatible with the task node" is displayed.</p>
</div>
<div class="section" id="EN-US_TOPIC_0000001186469228__en-us_topic_0306922091_en-us_topic_0220116450_section1439194518389"><h4 class="sectiontitle">Possible Causes</h4><p id="EN-US_TOPIC_0000001186469228__p11218143713396">The OS kernel version is different. As a result, the perf sched command fails to be executed and the collected perf.data cannot be parsed.</p>
</div>
<div class="section" id="EN-US_TOPIC_0000001186469228__section9956141318525"><h4 class="sectiontitle">Procedure</h4><p id="EN-US_TOPIC_0000001186469228__p3337196174011">After modifying the <strong id="EN-US_TOPIC_0000001186469228__b176801215153910">ulimit</strong> parameter on the installation node, the collected data can be properly parsed.</p>
<ul id="EN-US_TOPIC_0000001186469228__ul681110379499"><li id="EN-US_TOPIC_0000001186469228__li881133714491">Solution 1: Use the modification that will take effect immediately but temporarily.<p id="EN-US_TOPIC_0000001186469228__p199555536474"><a name="EN-US_TOPIC_0000001186469228__li881133714491"></a><a name="li881133714491"></a>Run the following command:</p>
<p id="EN-US_TOPIC_0000001186469228__p140325115457"><strong id="EN-US_TOPIC_0000001186469228__b1186811427465">ulimit -n 65535</strong></p>
</li></ul>
<ul id="EN-US_TOPIC_0000001186469228__ul612194434918"><li id="EN-US_TOPIC_0000001186469228__li2046185584911">Solution 2: Use the modification that will be effective permanently.<p id="EN-US_TOPIC_0000001186469228__p2040318564493"><a name="EN-US_TOPIC_0000001186469228__li2046185584911"></a><a name="li2046185584911"></a>Modify the <strong id="EN-US_TOPIC_0000001186469228__b874142316166">/etc/security/limits.conf</strong> file.</p>
<pre class="screen" id="EN-US_TOPIC_0000001186469228__screen12111426194613">* soft nofile 65535 
* hard nofile 65535</pre>
</li></ul>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000001224201323.html">FAQ</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>