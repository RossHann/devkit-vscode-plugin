
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Compiler and Compilation Options">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0000001197898711.html">
<meta name="prodname" content="">
<meta name="version" content="2.3.T20">
<meta name="brand" content="Kunpeng Hyper Tuner">
<meta name="DC.Publisher" content="20210914">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0000001153512350">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Compiler and Compilation Options</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0000001153512350"></a><a name="EN-US_TOPIC_0000001153512350"></a>

<h1 class="topictitle1">Compiler and Compilation Options</h1>
<div id="body0000001153512350"><div class="section" id="EN-US_TOPIC_0000001153512350__section070116513275"><h4 class="sectiontitle">Using GCC of a Later Version</h4><p id="EN-US_TOPIC_0000001153512350__p11435195313279">Upgrade the GCC in Ubuntu to GCC 10.1.0.</p>
<ol id="EN-US_TOPIC_0000001153512350__ol172611656302"><li id="EN-US_TOPIC_0000001153512350__li14261195123019"><span>Obtain the latest GCC source package.</span><p><p id="EN-US_TOPIC_0000001153512350__p1068302611303">To obtain the source code package, visit <a href="http://ftp.gnu.org/gnu/gcc/gcc-10.1.0" target="_blank" rel="noopener noreferrer">http://ftp.gnu.org/gnu/gcc/gcc-10.1.0</a>.</p>
<p id="EN-US_TOPIC_0000001153512350__p189721729143111"><span><img id="EN-US_TOPIC_0000001153512350__image44722569322" src="en-us_image_0000001153353030.png"></span></p>
</p></li><li id="EN-US_TOPIC_0000001153512350__li8627921183119"><span>Run the following command to decompress the installation package:</span><p><p id="EN-US_TOPIC_0000001153512350__p164512383332"><strong id="EN-US_TOPIC_0000001153512350__b1161941348">tar -xzvf gcc-10.1.0.tar.gz</strong></p>
<p id="EN-US_TOPIC_0000001153512350__p928382323410"><span><img id="EN-US_TOPIC_0000001153512350__image1325312246344" src="en-us_image_0000001153353072.png"></span></p>
</p></li><li id="EN-US_TOPIC_0000001153512350__li15300154410348"><span>Run the following commands to go to the directory generated after the decompression and run the <span class="uicontrol" id="EN-US_TOPIC_0000001153512350__uicontrol13545102893615"><b>download_prerequisites</b></span> script:</span><p><p id="EN-US_TOPIC_0000001153512350__p8684184443611"><strong id="EN-US_TOPIC_0000001153512350__b1787982510372">cd gcc-10.1.0/</strong></p>
<p id="EN-US_TOPIC_0000001153512350__p286242613375"><strong id="EN-US_TOPIC_0000001153512350__b14406144523720">./contrib/download_prerequisiles</strong></p>
<div class="note" id="EN-US_TOPIC_0000001153512350__note21781322385"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000001153512350__p10178162203811">The <span class="uicontrol" id="EN-US_TOPIC_0000001153512350__uicontrol76669813813"><b>download_prerequisites</b></span> script file is used to download, configure, and install the dependency library.</p>
</div></div>
</p></li><li id="EN-US_TOPIC_0000001153512350__li918217565388"><span>Run the following commands to create a directory and save all output to the directory:</span><p><p id="EN-US_TOPIC_0000001153512350__p1444513343424"><strong id="EN-US_TOPIC_0000001153512350__b716111586429">mkdir </strong><em id="EN-US_TOPIC_0000001153512350__i1816114588427">gcc_temp</em></p>
<p id="EN-US_TOPIC_0000001153512350__p208667117432"><strong id="EN-US_TOPIC_0000001153512350__b1821191213433">cd</strong> <em id="EN-US_TOPIC_0000001153512350__i812863194318">gcc_temp</em></p>
<p id="EN-US_TOPIC_0000001153512350__p1329623412431"><strong id="EN-US_TOPIC_0000001153512350__b10371144794317">../configure -enable-checking=release -enable-languages=c,c++ -disable-multilib</strong></p>
<p id="EN-US_TOPIC_0000001153512350__p123217127444"><span><img id="EN-US_TOPIC_0000001153512350__image181211813134411" src="en-us_image_0000001199393591.png"></span></p>
</p></li><li id="EN-US_TOPIC_0000001153512350__li92541850194416"><span>Perform compilation and installation,</span><p><ol type="a" id="EN-US_TOPIC_0000001153512350__ol11281103117458"><li id="EN-US_TOPIC_0000001153512350__li192811331124511">Run the following command to perform the compilation:<p id="EN-US_TOPIC_0000001153512350__p9126114313457"><a name="EN-US_TOPIC_0000001153512350__li192811331124511"></a><a name="li192811331124511"></a><strong id="EN-US_TOPIC_0000001153512350__b119745674511">make -j32</strong></p>
<div class="note" id="EN-US_TOPIC_0000001153512350__note137396810466"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000001153512350__p37392812463">The compilation process may last one to two hours. Pay attention to the time arrangement before the compilation.</p>
</div></div>
<p id="EN-US_TOPIC_0000001153512350__p131548104714"><span><img id="EN-US_TOPIC_0000001153512350__image14100121364715" src="en-us_image_0000001153513922.png"></span></p>
</li><li id="EN-US_TOPIC_0000001153512350__li12479126124712">Start the installation.<ul id="EN-US_TOPIC_0000001153512350__ul1145610434482"><li id="EN-US_TOPIC_0000001153512350__li14561843204819">Perform the installation as the <strong id="EN-US_TOPIC_0000001153512350__b703366067112653">root</strong> user:<p id="EN-US_TOPIC_0000001153512350__p63184114916"><strong id="EN-US_TOPIC_0000001153512350__b114301719194915">make install</strong></p>
</li><li id="EN-US_TOPIC_0000001153512350__li11155102720497">Perform the installation as a common user:<p id="EN-US_TOPIC_0000001153512350__p14784104810493"><a name="EN-US_TOPIC_0000001153512350__li11155102720497"></a><a name="li11155102720497"></a><strong id="EN-US_TOPIC_0000001153512350__b4313315505">sudo make install</strong></p>
<div class="fignone" id="EN-US_TOPIC_0000001153512350__fig3491204145015"><span class="figcap"><b>Figure 1 </b>Installation process</span><br><span><img id="EN-US_TOPIC_0000001153512350__image56231735135014" src="en-us_image_0000001153354232.png"></span></div>
</li></ul>
</li></ol>
</p></li><li id="EN-US_TOPIC_0000001153512350__li201762567506"><span>Verify the installation.</span><p><p id="EN-US_TOPIC_0000001153512350__p585611229514">Run any of the following commands to check the GCC version:</p>
<p id="EN-US_TOPIC_0000001153512350__p1467452511527"><strong id="EN-US_TOPIC_0000001153512350__b58401152145216">gcc --version</strong></p>
<p id="EN-US_TOPIC_0000001153512350__p1596943215212"><strong id="EN-US_TOPIC_0000001153512350__b14842105255212">gcc -v</strong></p>
<p id="EN-US_TOPIC_0000001153512350__p3731338185214"><strong id="EN-US_TOPIC_0000001153512350__b108431552125210">g++ -v</strong></p>
<div class="note" id="EN-US_TOPIC_0000001153512350__note175731563531"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0000001153512350__p6217102165315">If the displayed GCC version is earlier than the required version, restart the system. Alternatively, run the <strong id="EN-US_TOPIC_0000001153512350__b8485738181312">which gcc</strong> command to check the GCC installation directory, and then run the <strong id="EN-US_TOPIC_0000001153512350__b20444134931317">/usr/local/bin/gcc -v</strong> command to check the version information. Generally, the GCC is installed in the directory.</p>
</div></div>
<div class="fignone" id="EN-US_TOPIC_0000001153512350__fig45011379579"><span class="figcap"><b>Figure 2 </b>Installation success page</span><br><span><img id="EN-US_TOPIC_0000001153512350__image74571331165720" src="en-us_image_0000001153514404.png"></span></div>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0000001197898711.html">%USER</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>