
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="创建分析任务">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="zh-cn_topic_0000001194200665.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="鲲鹏性能分析工具 (调优助手) 联机帮助">
<meta name="DC.Publisher" content="20211029">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ZH-CN_TOPIC_0000001129346240">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>创建分析任务</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="ZH-CN_TOPIC_0000001129346240"></a><a name="ZH-CN_TOPIC_0000001129346240"></a>

<h1 class="topictitle1">创建分析任务</h1>
<div id="body0000001129346124"><div class="section" id="ZH-CN_TOPIC_0000001129346240__section11470129119"><h4 class="sectiontitle">前提条件</h4><ul id="ZH-CN_TOPIC_0000001129346240__ul68925812545"><li id="ZH-CN_TOPIC_0000001129346240__li10891358185410">已成功创建工程，且当前工程下不存在“离线”状态的节点。</li><li id="ZH-CN_TOPIC_0000001129346240__li1789258165413">所有用户都只能在自建的工程下新建分析任务。</li></ul>
</div>
<div class="section" id="ZH-CN_TOPIC_0000001129346240__section1548915515237"><h4 class="sectiontitle">操作步骤</h4><ol id="ZH-CN_TOPIC_0000001129346240__ol15971352649"><li id="ZH-CN_TOPIC_0000001129346240__li446212282372"><span>单击工程列表中指定工程后面的<span><img id="ZH-CN_TOPIC_0000001129346240__image194631028153710" src="zh-cn_image_0000001176187185.png"></span>。</span><p><p id="ZH-CN_TOPIC_0000001129346240__p14961828143712">打开“新建分析任务”页面。页面内容根据分析对象和模式变化，如<a href="#ZH-CN_TOPIC_0000001129346240__fig803412819">图1</a>、<a href="#ZH-CN_TOPIC_0000001129346240__fig8821243135211">图2</a>和<a href="#ZH-CN_TOPIC_0000001129346240__fig0257355110">图3</a>所示。</p>
<div class="fignone" id="ZH-CN_TOPIC_0000001129346240__fig803412819"><a name="ZH-CN_TOPIC_0000001129346240__fig803412819"></a><a name="fig803412819"></a><span class="figcap"><b>图1 </b>新建分析任务（系统）</span><br><span><img id="ZH-CN_TOPIC_0000001129346240__image100164132818" src="zh-cn_image_0000001176187005.png" height="273.315" width="523.6875"></span></div>
<div class="fignone" id="ZH-CN_TOPIC_0000001129346240__fig8821243135211"><a name="ZH-CN_TOPIC_0000001129346240__fig8821243135211"></a><a name="fig8821243135211"></a><span class="figcap"><b>图2 </b>新建分析任务（应用-Launch Application）</span><br><span><img id="ZH-CN_TOPIC_0000001129346240__image282112432527" src="zh-cn_image_0000001130791186.png" height="482.79" width="523.6875"></span></div>
<div class="fignone" id="ZH-CN_TOPIC_0000001129346240__fig0257355110"><a name="ZH-CN_TOPIC_0000001129346240__fig0257355110"></a><a name="fig0257355110"></a><span class="figcap"><b>图3 </b>新建分析任务（应用-Attach to Process）</span><br><span><img id="ZH-CN_TOPIC_0000001129346240__image1525235216" src="zh-cn_image_0000001130791898.png" height="346.1325" width="523.6875"></span></div>
</p></li><li id="ZH-CN_TOPIC_0000001129346240__li1280915018384"><span>配置任务参数。</span><p><div class="note" id="ZH-CN_TOPIC_0000001129346240__note119941956519"><img src="public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="ZH-CN_TOPIC_0000001129346240__p68501734105915">可单击页面中间的<span><img id="ZH-CN_TOPIC_0000001129346240__image149733515335" src="zh-cn_image_0000001130187500.png" width="11.97" height="7.98"></span>收起首页横幅。</p>
</div></div>

<div class="tablenoborder"><a name="ZH-CN_TOPIC_0000001129346240__table240219472097"></a><a name="table240219472097"></a><table cellpadding="4" cellspacing="0" summary="" id="ZH-CN_TOPIC_0000001129346240__table240219472097" frame="border" border="1" rules="all"><caption><b>表1 </b>配置任务参数</caption><colgroup><col style="width:24%"><col style="width:76%"></colgroup><thead align="left"><tr id="ZH-CN_TOPIC_0000001129346240__row1240320474914"><th align="left" class="cellrowborder" valign="top" width="24%" id="mcps1.3.2.2.2.2.2.2.3.1.1"><p id="ZH-CN_TOPIC_0000001129346240__p417212031911">参数</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="76%" id="mcps1.3.2.2.2.2.2.2.3.1.2"><p id="ZH-CN_TOPIC_0000001129346240__p191721420201911">说明</p>
</th>
</tr>
</thead>
<tbody><tr id="ZH-CN_TOPIC_0000001129346240__row04031471914"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p1540344714914">任务名称</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__p114034478915">输入分析任务的名称。名称需要满足如下要求：</p>
<ul id="ZH-CN_TOPIC_0000001129346240__zh-cn_topic_0189354041_ul3495217183920"><li id="ZH-CN_TOPIC_0000001129346240__li9539192134211">只能由字母、数字、特殊字符（@#$%^&amp;*()[]&lt;&gt;._-!~+空格）组成</li><li id="ZH-CN_TOPIC_0000001129346240__li1253911219425">长度为1~32个字符</li></ul>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row15573144916101"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p084614716189">分析对象</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__p19845154761819">选择分析的对象。可选择：</p>
<ul id="ZH-CN_TOPIC_0000001129346240__ul79925514243"><li id="ZH-CN_TOPIC_0000001129346240__li179985514249">系统：采集整个服务器的数据，无需关注系统中有哪些类型的应用在运行，采样时长由配置参数控制，适用于多业务混合运行和有子进程的场景。</li><li id="ZH-CN_TOPIC_0000001129346240__li159261429185811">应用：采集指定应用或进程的数据进行分析。</li></ul>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row1940185405018"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p1040205425015">模式</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><div class="p" id="ZH-CN_TOPIC_0000001129346240__p76093415812">选择分析应用的模式。可选择：<ul id="ZH-CN_TOPIC_0000001129346240__ul1828783811910"><li id="ZH-CN_TOPIC_0000001129346240__li14287103811913">Launch Application：采集的同时启动Application，采样时长受Application的运行时长控制（适用于Application运行时长较短的场景）。该场景分析涵盖Application及其子进程。</li><li id="ZH-CN_TOPIC_0000001129346240__li928715386913">Attach to Process：采集时关联服务器中已存在的PID，需要配置采样时长参数（适用于应用运行时间较长的场景）。该场景分析仅涵盖参数中的PID，不涵盖PID对应的子进程。</li></ul>
</div>
<p id="ZH-CN_TOPIC_0000001129346240__p728310891516">仅在<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname7327113111516">“分析对象”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue132713331511">“应用”</span>时，需要配置此参数。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row61921455135011"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p20192055175013">应用路径</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__p1772542511310">输入待分析应用的绝对路径。例如分析保存在“/home/test”目录下的“loop_test”应用，则输入：/home/test/loop_test</p>
<p id="ZH-CN_TOPIC_0000001129346240__p15584154362715">仅在<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname832115126132">“分析对象”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue9394132112210">“应用”</span>且<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname1265084618166">“模式”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue6374183912206">“Launch Application”</span>时需配置此参数。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row949246125120"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p1249214675120">应用参数（可选）</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__p849214614515">输入应用参数，请根据实际应用场景填写。</p>
<p id="ZH-CN_TOPIC_0000001129346240__p73870409193">仅在<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname12387540151918">“分析对象”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue1264563020213">“应用”</span>且<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname133871740171917">“模式”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue22641356142013">“Launch Application”</span>时可选择配置此参数。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row667177165113"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p1067778516">应用运行用户（可选）</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__zh-cn_topic_0251208341_p38061351133414">仅在<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname758386202414">“分析对象”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue858376102412">“应用”</span>且<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname158316122418">“模式”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue155835615249">“Launch Application”</span>时可选择配置此参数，默认关闭。</p>
<ul id="ZH-CN_TOPIC_0000001129346240__zh-cn_topic_0251208341_ul102288814402"><li id="ZH-CN_TOPIC_0000001129346240__zh-cn_topic_0251208341_li82299816404">关闭状态：应用运行用户为系统默认用户launcher。</li><li id="ZH-CN_TOPIC_0000001129346240__zh-cn_topic_0251208341_li7746174220401">打开状态：应用运行用户为实际配置的用户。</li></ul>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row5611878514"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p061167165110">进程名称</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__p361111785110">输入需要分析的进程名，支持正则表达式。</p>
<p id="ZH-CN_TOPIC_0000001129346240__p14624142519247">仅在<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname13646183452417">“分析对象”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue11646133432419">“应用”</span>且<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname864653412412">“模式”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue764683472417">“Attach to Process”</span>时需配置此参数。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row1998017775118"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p129807716511">PID</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__p798017785115">输入需要分析的进程PID，支持用“,”隔开的多个PID。</p>
<p id="ZH-CN_TOPIC_0000001129346240__p165048615257">仅在<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname1198531011258">“分析对象”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue39857105255">“应用”</span>且<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname7986101092510">“模式”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue2986151042519">“Attach to Process”</span>时可选择配置此参数。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row150334717714"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p650318471976">二进制/符号文件路径</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__p102972024191017">输入二进制/符号文件在服务器上的绝对路径。</p>
<p id="ZH-CN_TOPIC_0000001129346240__p19376411152918">仅在<span class="parmname" id="ZH-CN_TOPIC_0000001129346240__parmname14376611122914">“分析对象”</span>选择<span class="parmvalue" id="ZH-CN_TOPIC_0000001129346240__parmvalue1376811152919">“应用”</span>时，需要配置此参数。</p>
<div class="note" id="ZH-CN_TOPIC_0000001129346240__note9297162471015"><span class="notetitle"> 说明： </span><div class="notebody"><ul id="ZH-CN_TOPIC_0000001129346240__ul194014204118"><li id="ZH-CN_TOPIC_0000001129346240__li16391920151120">当开发者需要观察源代码和汇编指令映射后的性能数据时，并且对应的应用程序无符号表信息，该参数用来导入对应应用程序的符号表。</li><li id="ZH-CN_TOPIC_0000001129346240__li6391520171114">如果应用程序的二进制文件带有debug信息，则只需要放置二进制文件即可。</li><li id="ZH-CN_TOPIC_0000001129346240__li83962017112">如果应用程序的二进制文件不带debug信息，则需要放置二进制文件和对应的debuginfo文件。</li></ul>
</div></div>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row68581037101611"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p16603151663617">采样时长（s）</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__p0603111614365">设置记录的时间。默认为15秒，取值范围1~300秒。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001129346240__row3976049161518"><td class="cellrowborder" valign="top" width="24%" headers="mcps1.3.2.2.2.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001129346240__p86491218163617">采集文件大小（MiB）</p>
</td>
<td class="cellrowborder" valign="top" width="76%" headers="mcps1.3.2.2.2.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001129346240__p2649201813365">设置采集文件的大小。默认为100，取值范围1~100。</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="ZH-CN_TOPIC_0000001129346240__li92471127563"><span>参考<a href="#ZH-CN_TOPIC_0000001129346240__table240219472097">表1</a>配置任务参数后，单击“确认”新建分析任务。</span><p><p id="ZH-CN_TOPIC_0000001129346240__p1991961311912">单击任务名称或节点名称后面对应的图标可以执行如下操作：</p>
<ul id="ZH-CN_TOPIC_0000001129346240__ul18933169182612"><li id="ZH-CN_TOPIC_0000001129346240__li596185013581"><span><img id="ZH-CN_TOPIC_0000001129346240__image386914784410" src="zh-cn_image_0000001176671797.png"></span>：再次分析任务或节点，可修改任务参数配置并重新启动分析任务。</li><li id="ZH-CN_TOPIC_0000001129346240__li53302011870"><span><img id="ZH-CN_TOPIC_0000001129346240__image7755155016442" src="zh-cn_image_0000001176751711.png"></span>：查看任务分析路径，可查看任务或节点的分析路径。</li><li id="ZH-CN_TOPIC_0000001129346240__li158951384618"><span><img id="ZH-CN_TOPIC_0000001129346240__image9419102212371" src="zh-cn_image_0000001130792048.png"></span>：查看任务基本信息和日志，可查看任务基本信息和日志。</li><li id="ZH-CN_TOPIC_0000001129346240__li12330614719"><span><img id="ZH-CN_TOPIC_0000001129346240__image1862033284916" src="zh-cn_image_0000001130187532.png"></span>：删除分析任务，删除分析任务会将该分析任务下的数据都删除，请谨慎操作。</li><li id="ZH-CN_TOPIC_0000001129346240__li13234328280"><span><img id="ZH-CN_TOPIC_0000001129346240__image2068824415362" src="zh-cn_image_0000001135538996.png"></span>：取消正在进行的分析任务。</li></ul>
<div class="note" id="ZH-CN_TOPIC_0000001129346240__note2315171655012"><img src="public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0000001129346240__ul479716221106"><li id="ZH-CN_TOPIC_0000001129346240__li177971222121012">管理员用户（<strong id="ZH-CN_TOPIC_0000001129346240__b196561212115016">tunadmin</strong>）对所有用户的分析任务有浏览、再次分析和删除权限。</li><li id="ZH-CN_TOPIC_0000001129346240__li167971422141019">普通用户对自建的分析任务有浏览、再次分析和删除权限；对其他用户创建的分析任务只有浏览权限。</li><li id="ZH-CN_TOPIC_0000001129346240__li14797172231019">再次分析任务中“任务名称”如与同创建时的名称相同，则再分析任务无法成功启动。</li></ul>
</div></div>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="zh-cn_topic_0000001194200665.html">调优分析</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">版权所有 &copy; 华为技术有限公司</div></body>
</html>