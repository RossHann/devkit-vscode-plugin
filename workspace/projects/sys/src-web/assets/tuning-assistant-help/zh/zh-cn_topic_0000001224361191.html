
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="查看系统配置">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="zh-cn_topic_0000001224201259.html">
<meta name="prodname" content="">
<meta name="version" content="2.3.0">
<meta name="brand" content="鲲鹏性能分析工具 (调优助手)">
<meta name="DC.Publisher" content="20211230">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ZH-CN_TOPIC_0000001224361191">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>查看系统配置</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="ZH-CN_TOPIC_0000001224361191"></a><a name="ZH-CN_TOPIC_0000001224361191"></a>

<h1 class="topictitle1">查看系统配置</h1>
<div id="body0000001130798882"><div class="section" id="ZH-CN_TOPIC_0000001224361191__zh-cn_topic_0189293077_section11470129119"><h4 class="sectiontitle">前提条件</h4><p id="ZH-CN_TOPIC_0000001224361191__zh-cn_topic_0189293077_zh-cn_topic_0189293076_p5336201013112">已创建分析任务，并且成功完成分析。</p>
</div>
<div class="section" id="ZH-CN_TOPIC_0000001224361191__section1080132624618"><h4 class="sectiontitle">操作步骤</h4><ol id="ZH-CN_TOPIC_0000001224361191__ol92117562556"><li id="ZH-CN_TOPIC_0000001224361191__li85521472718"><span>在“工程管理”区域，依次单击指定工程和分析任务名称前的<span><img id="ZH-CN_TOPIC_0000001224361191__image4105155811375" src="zh-cn_image_0000001224201347.png"></span>。</span><p><p id="ZH-CN_TOPIC_0000001224361191__p198319584430">展开节点列表。</p>
</p></li><li id="ZH-CN_TOPIC_0000001224361191__li779815445566"><span>单击节点名称查看分析结果。</span><p><p id="ZH-CN_TOPIC_0000001224361191__p19449114955616">打开分析结果页面。分析结果分为四大块内容：系统配置、热点函数、系统性能和进程/线程性能。默认显示的是系统配置分析结果。</p>
<div class="fignone" id="ZH-CN_TOPIC_0000001224361191__fig1457422021110"><span class="figcap"><b>图1 </b>分析结果页面</span><br><span><img id="ZH-CN_TOPIC_0000001224361191__image457462051112" src="zh-cn_image_0000001224361289.png"></span></div>
</p></li><li id="ZH-CN_TOPIC_0000001224361191__li19411922151412"><span>（可选）选择业务类型。</span><p><ul id="ZH-CN_TOPIC_0000001224361191__ul141542911385"><li id="ZH-CN_TOPIC_0000001224361191__li11572914385">根据实际情况选择业务类型。可选类型包括：CPU密集型、网络IO密集型和存储IO密集型。可以选择1~3个业务类型。选中后，选项的文字颜色变为蓝色。默认三个选项均被选中。</li><li id="ZH-CN_TOPIC_0000001224361191__li499817326383">根据实际情况选择建议范围。可以调节优化建议拓扑树显示<span class="uicontrol" id="ZH-CN_TOPIC_0000001224361191__uicontrol78009395409">“全部建议”</span>或<span class="uicontrol" id="ZH-CN_TOPIC_0000001224361191__uicontrol1995184416408">“经过阈值过滤的建议”</span>。<div class="fignone" id="ZH-CN_TOPIC_0000001224361191__fig10998732123818"><span class="figcap"><b>图2 </b>选择业务类型</span><br><span><img id="ZH-CN_TOPIC_0000001224361191__image4998132183813" src="zh-cn_image_0000001178563076.png"></span></div>
</li></ul>
</p></li><li id="ZH-CN_TOPIC_0000001224361191__li123751537174718"><span>根据系统配置条件，进行调优设置。</span><p><ol type="a" id="ZH-CN_TOPIC_0000001224361191__ol5810436479"><li id="ZH-CN_TOPIC_0000001224361191__li15189115631919">可根据系统配置情况，对右侧系统配置指标参数进行调整。<div class="fignone" id="ZH-CN_TOPIC_0000001224361191__fig81611534133013"><span class="figcap"><b>图3 </b>系统配置调优指标</span><br><span><img id="ZH-CN_TOPIC_0000001224361191__image121611634203015" src="zh-cn_image_0000001224122791.png"></span></div>
<div class="p" id="ZH-CN_TOPIC_0000001224361191__p18109182922915"><a href="#ZH-CN_TOPIC_0000001224361191__table15529283293">表1</a>描述了系统配置指标的各项参数。
<div class="tablenoborder"><a name="ZH-CN_TOPIC_0000001224361191__table15529283293"></a><a name="table15529283293"></a><table cellpadding="4" cellspacing="0" summary="" id="ZH-CN_TOPIC_0000001224361191__table15529283293" frame="border" border="1" rules="all"><caption><b>表1 </b>系统配置指标</caption><colgroup><col style="width:30.270000000000003%"><col style="width:69.73%"></colgroup><thead align="left"><tr id="ZH-CN_TOPIC_0000001224361191__row75118287292"><th align="left" class="cellrowborder" valign="top" width="30.270000000000003%" id="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.1"><p id="ZH-CN_TOPIC_0000001224361191__p105112882918">指标</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="69.73%" id="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.2"><p id="ZH-CN_TOPIC_0000001224361191__p135110287298">描述</p>
</th>
</tr>
</thead>
<tbody><tr id="ZH-CN_TOPIC_0000001224361191__row1752128162914"><td class="cellrowborder" valign="top" width="30.270000000000003%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001224361191__p85172872910">dirty_expire_centiseconds</p>
</td>
<td class="cellrowborder" valign="top" width="69.73%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001224361191__p252328182911">用于标识脏数据在缓存中允许保留的时长，即时间结束后需要被写入到磁盘中。如果业务的数据是连续性的写，可以适当调小此参数，这样可以有效避免IO集中，导致突发的IO等待。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224361191__row1052192813295"><td class="cellrowborder" valign="top" width="30.270000000000003%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001224361191__p9521228142920">dirty_background_ratio</p>
</td>
<td class="cellrowborder" valign="top" width="69.73%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001224361191__p05212820295">页面占用总内存最大的比例（以memfree+Cached-Mapped为基准），超过这个值，pdflush线程会刷新脏页面到磁盘。增加这个值，系统会分配更多的内存用于写缓存，因而可以提升写磁盘性能。但对于磁盘写入操作为主的业务，可以调小这个值，避免数据积压太多最后成为瓶颈，可以结合业务并通过观察await的时间波动范围来识别。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224361191__row18525289291"><td class="cellrowborder" valign="top" width="30.270000000000003%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001224361191__p16521128192912">dirty_ratio</p>
</td>
<td class="cellrowborder" valign="top" width="69.73%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001224361191__p952192816294">表示脏页面占用总内存最大的比例，超过这个值，系统不会新增加脏页面，文件读写也变为同步模式。文件读写变为同步模式后，应用程序的文件读写操作的阻塞时间变长，会导致系统性能变慢。对于写入为主的业务，可以增加此参数，避免磁盘过早的进入到同步写状态。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224361191__row205252813296"><td class="cellrowborder" valign="top" width="30.270000000000003%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001224361191__p252132817296">dirty_expire_centisecs</p>
</td>
<td class="cellrowborder" valign="top" width="69.73%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001224361191__p8455132545814">该参数控制内核的脏数据刷新进程pdflush的运行间隔，单位是1/100秒。缺省数值是500 （5秒）。</p>
<ul id="ZH-CN_TOPIC_0000001224361191__ul1296462725816"><li id="ZH-CN_TOPIC_0000001224361191__li88992291586">如果系统持续地执行写入动作，那么需要降低该值，这样可以把尖峰的写操作削平成多次写操作。</li><li id="ZH-CN_TOPIC_0000001224361191__li3965142765816">如果系统是短期地尖峰式的写操作，并且写入数据不大（几十M/次）且内存有比较多富裕，那么应该增大此数值。</li></ul>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224361191__row195232872915"><td class="cellrowborder" valign="top" width="30.270000000000003%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001224361191__p10521528162912">内存空闲率 (%)</p>
</td>
<td class="cellrowborder" valign="top" width="69.73%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001224361191__p32073665816">该参数控制内存使用率。</p>
<ul id="ZH-CN_TOPIC_0000001224361191__ul12949153735814"><li id="ZH-CN_TOPIC_0000001224361191__li17915442125820">当内存使用率过高时，它会降低服务器的性能，此时就需要提高内存空闲率，以使服务器健康运行。</li><li id="ZH-CN_TOPIC_0000001224361191__li1094963795818">在内存使用率低的情况下，调小swappiness参数，使用物理内存，尽量减少交换分区的使用，避免加大IO操作，影响系统性能。</li></ul>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224361191__row1852192812913"><td class="cellrowborder" valign="top" width="30.270000000000003%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.1 "><p id="ZH-CN_TOPIC_0000001224361191__p35292818298">swappiness</p>
</td>
<td class="cellrowborder" valign="top" width="69.73%" headers="mcps1.3.2.2.4.2.1.1.2.2.2.3.1.2 "><p id="ZH-CN_TOPIC_0000001224361191__p55212815298">swappiness是一个Linux内核属性，用于设置将页面从物理内存交换到交换空间以及从页面缓存中删除页面之间的平衡。它基本上定义了系统使用交换空间的频率。</p>
</td>
</tr>
</tbody>
</table>
</div>
<ul id="ZH-CN_TOPIC_0000001224361191__ul152162802910"><li id="ZH-CN_TOPIC_0000001224361191__li1852122872911">单击<span class="uicontrol" id="ZH-CN_TOPIC_0000001224361191__uicontrol05217282292">“应用”</span>使用调整后的配置指标参数。</li><li id="ZH-CN_TOPIC_0000001224361191__li052142812917">单击<span class="uicontrol" id="ZH-CN_TOPIC_0000001224361191__uicontrol19523281296">“重置”</span>恢复默认指标参数。</li></ul>
</div>
</li><li id="ZH-CN_TOPIC_0000001224361191__li17812434479">查看分析结果页面的优化建议拓扑树图，单击根据配置条件<span><img id="ZH-CN_TOPIC_0000001224361191__image102291941366" src="zh-cn_image_0000001178881628.png"></span>，单击<span><img id="ZH-CN_TOPIC_0000001224361191__image1545302274519" src="zh-cn_image_0000001178563074.png"></span>选择对应的调优建议。<div class="fignone" id="ZH-CN_TOPIC_0000001224361191__fig460235795011"><span class="figcap"><b>图4 </b>优化建议拓扑树图</span><br><span><img id="ZH-CN_TOPIC_0000001224361191__image96027575507" src="zh-cn_image_0000001224361281.png"></span></div>
</li><li id="ZH-CN_TOPIC_0000001224361191__li1288191045215">查看右侧调优建议中的相关配置、指标说明、优化建议及优化指导。单击<span><img id="ZH-CN_TOPIC_0000001224361191__image893910417140" src="zh-cn_image_0000001178723074.png"></span>确定采纳该调优建议，再次单击取消采纳该调优建议。<div class="fignone" id="ZH-CN_TOPIC_0000001224361191__fig1791211517228"><span class="figcap"><b>图5 </b>调优建议页面</span><br><span><img id="ZH-CN_TOPIC_0000001224361191__image179120518229" src="zh-cn_image_0000001223882837.png"></span></div>
</li><li id="ZH-CN_TOPIC_0000001224361191__li194612814247">已采纳的调优建议将会保留在关联报告中，单击页面右下角<span class="uicontrol" id="ZH-CN_TOPIC_0000001224361191__uicontrol7421959152812">“关联报告”</span>进入关联报告页面。<p id="ZH-CN_TOPIC_0000001224361191__p296043062912">关联报告页面会显示已经采纳的所有调优建议，单击任务名称可进行查看。根据采纳的调优建议是否达到预期目标，单击左下角<span class="uicontrol" id="ZH-CN_TOPIC_0000001224361191__uicontrol2038142201311">“有效”</span>和<span class="uicontrol" id="ZH-CN_TOPIC_0000001224361191__uicontrol109373681317">“无效”</span>进行确定。</p>
<div class="fignone" id="ZH-CN_TOPIC_0000001224361191__fig14809483120"><span class="figcap"><b>图6 </b>关联报告页面</span><br><span><img id="ZH-CN_TOPIC_0000001224361191__image158034123112" src="zh-cn_image_0000001179041536.png"></span></div>
</li></ol>
</p></li><li id="ZH-CN_TOPIC_0000001224361191__li107641738517"><span>单击<span class="uicontrol" id="ZH-CN_TOPIC_0000001224361191__uicontrol16128112716525">“系统配置”</span>右侧的<span><img id="ZH-CN_TOPIC_0000001224361191__image0414425536" src="zh-cn_image_0000001224201361.png"></span>查看系统配置详细数据。</span><p><p id="ZH-CN_TOPIC_0000001224361191__p1442891212140">系统配置详细数据中包含CPU、内存、存储、网络和OS配置信息，默认显示的是CPU信息。</p>
<div class="fignone" id="ZH-CN_TOPIC_0000001224361191__fig9175151845612"><span class="figcap"><b>图7 </b>查看系统配置详细数据</span><br><span><img id="ZH-CN_TOPIC_0000001224361191__image1119611614566" src="zh-cn_image_0000001179041558.png"></span></div>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="zh-cn_topic_0000001224201259.html">查看分析结果</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">版权所有 &copy; 华为技术有限公司</div></body>
</html>