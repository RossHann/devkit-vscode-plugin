<div class="btn-header">
    <img (mouseenter)="onContrastHoverList('hover')" (mouseleave)="onContrastHoverList()" [src]="ContrastHover==='hover' ?
        './assets/img/newSvg/back_hover.svg':
        './assets/img/projects/back.svg'" alt="" style="cursor: pointer;margin-right: 10px;" (click)="goBack()"
        [tiTip]="i18n.profileMemorydump.histogram.common_term_back" />
    <span class="pro-title">
        <span class="pro_text">
            <span class="pro_text_img"><img src="./assets/img/newSvg/Bsnap.svg" alt=""></span>
            <span>{{i18n.squareBracketL}}{{snapshotB}}{{i18n.squareBracketR}}</span>
        </span>
        <span class="toggleSnapshot" (click)="toggleSnapshot()">
            <img src="./assets/img/newSvg/toggle_clicked.svg" alt="">
        </span>
        <span class="pro_text">
            <span class="pro_text_img"><img src="./assets/img/newSvg/Asnap.svg" alt=""></span>
            <span>{{i18n.squareBracketL}}{{snapshotA}}{{i18n.squareBracketR}}{{i18n.profileMemorydump.snapShot.snapshotContrast}}</span>
        </span>
    </span>
    <span class="formula_text">
        <span>{{i18n.profileMemorydump.snapShot.formulaSnapshot}}</span>
        <span class="formula_text_img">
            <img src="./assets/img/newSvg/Bsnap.svg" alt="">
        </span>
        <span>{{i18n.profileMemorydump.snapShot.subtracted}}</span>
        <span class="formula_text_img">
            <img src="./assets/img/newSvg/Asnap.svg" alt="">
        </span>
    </span>
</div>
<div class="file-io" [appLoading]="isLoading">
    <div class="threshold">
        <span class="thresholdBlock">
            <span class="thresholdText">{{i18n.profileMemorydump.snapShot.fileIo.ASnapshotThreshold}}</span>
            <span>{{snapShotAthreshold}}</span>
        </span>
        <span class="thresholdBlock">
            <span class="thresholdText">{{i18n.profileMemorydump.snapShot.fileIo.BSnapshotThreshold}}</span>
            <span>{{snapShotBthreshold}}</span>
        </span>
    </div>
    <div class="table">
        <!-- 左侧 -->
        <div class="table-content">
            <div class="search-box">
                <ti-searchbox class="search" [placeholder]="searchValue.placeholder" (clear)="searchClear($event)"
                    (search)="keySearch($event)" [(ngModel)]="searchValue.value">
                </ti-searchbox>
            </div>
            <ti-table class="left-ti-table" [(displayedData)]="displayedTable" [srcData]="srcDataTable"
                [columns]="columnsTable" [searchWords]="searchWords" [searchKeys]="searchKeys"
                [closeOtherDetails]="closeOtherDetails" tiColsResizable>
                <div class="ti3-table-fixed-head">
                    <table>
                        <thead>
                            <tr>
                                <ng-container *ngFor="let column of
                                    columnsTable; let idx= index">
                                    <th [tiColumnFixed]="column.fixed" [ngStyle]="{'left': idx===0?'0px':''}"
                                        width="{{ column.width }}" *ngIf="column.show || column.show === undefined"
                                        tiOverflow>
                                        <ti-cell-text>
                                            {{ column.title }}
                                            <span *ngIf="idx == 0" style="vertical-align:
                                                middle;">
                                                <span>{{ '(' +
                                                    spinnerValue + ')'
                                                    }}</span>
                                                <img src="./assets/img/home/tableFilter.svg" alt=""
                                                    [tiTip]="configTwo" />
                                            </span>
                                        </ti-cell-text>
                                        <ti-head-sort *ngIf="column.isSort" [sortKey]="column.sortKey">
                                        </ti-head-sort>
                                    </th>
                                </ng-container>
                                <th tiColumnFixed='right' width="20px">
                                    <span>
                                        <ti-cols-toggle style="float:right;" [searchable]="searchable"
                                            [panelWidth]="panelWidth" [selectAll]="selectAll"
                                            [tipPosition]='tipPosition' [disabled]="disabled"
                                            (select)="onSelectToggle($event)">
                                        </ti-cols-toggle>
                                    </span>
                                </th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="ti3-table-container ti3-resize-wrapper" [ngStyle]="{
                    height: expand ? '520px' : '240px',
                    'min-height': '240px'
                    }">
                    <table>
                        <thead>
                            <tr [ngStyle]="{ opacity: 0 }">
                                <ng-container *ngFor="let column of
                                    columnsTable; let idx= index">
                                    <th *ngIf="column.show || column.show === undefined" tiOverflow
                                        width="{{ column.width }}"></th>
                                </ng-container>
                                <th tiColumnFixed='right' width="20px"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <!--第一级-->
                            <ng-container *ngFor="let row of
                                displayedTable; index as i">
                                <tr (click)="handleFileClicked(row, i)" [ngStyle]="{
                                    'background-color':
                                    row.showDetails || row.isSelect ?
                                    '#F7FAFF' : ''
                                    }">
                                    <td tiColumnFixed='left' style="left: 0px;" tiOverflow
                                        width="{{ columnsTable[0].width }}">
                                        <ti-details-icon [row]="row" [index]="i" (beforeToggle)="beforeToggle($event)">
                                        </ti-details-icon>
                                        <span style="margin-left: 4px;">{{ row.ip }}</span>
                                    </td>
                                    <td tiOverflow width="{{ columnsTable[1].width }}" *ngIf="columnsTable[1].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span *ngIf="row.own==='A&B' || row.own==='B'">{{ onChangeTime(row.duration)
                                            }}</span>

                                    </td>
                                    <td tiOverflow width="{{ columnsTable[2].width }}" *ngIf="columnsTable[2].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.duration>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{ onChangeTime(row.compare.duration) }}</span>
                                            </span>
                                            <span *ngIf="row.compare.duration<0" class="count-fill-greed">
                                                <span>-{{ onChangeTime(-row.compare.duration) }}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="{{ columnsTable[3].width }}" *ngIf="columnsTable[3].show">
                                        <div style="position:
                                            relative;">
                                            <span *ngIf="row.own==='A'">--</span>
                                            <span *ngIf="row.own==='A&B' || row.own==='B'">
                                                <span *ngIf="row.count > 0" [ngStyle]="{
                                                    width: (row.count / row.count) * 100 + '%'
                                                    }" class="count-fill"></span>
                                                <span class="count-right">{{ row.count | separator }}</span>
                                            </span>
                                        </div>
                                    </td>
                                    <td width="{{ columnsTable[4].width }}" *ngIf="columnsTable[4].show">
                                        <div style="position:
                                            relative;">
                                            <span
                                                *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                            <span
                                                *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                            <span *ngIf="row.own==='A&B'">
                                                <span *ngIf="row.compare.count>= 0" class="count-fill-red">
                                                    <span>+</span>
                                                    <span>{{row.compare.count | separator }}</span>
                                                </span>
                                                <span *ngIf="row.compare.count<0" class="count-fill-greed">
                                                    <span>{{row.compare.count | separator }}</span>
                                                </span>
                                            </span>
                                        </div>
                                    </td>
                                    <td width="{{ columnsTable[5].width }}" tiOverflow *ngIf="columnsTable[5].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span *ngIf="row.own==='A&B' || row.own==='B'">{{ row.rCount | separator
                                            }}</span>
                                    </td>
                                    <td width="{{ columnsTable[6].width }}" tiOverflow *ngIf="columnsTable[6].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.rCount>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{ row.compare.rCount | separator }}</span>
                                            </span>
                                            <span *ngIf="row.compare.rCount<0" class="count-fill-greed">
                                                <span>{{ row.compare.rCount | separator }}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="{{ columnsTable[7].width }}" tiOverflow *ngIf="columnsTable[7].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span *ngIf="row.own==='A&B' || row.own==='B'">{{ row.wCount | separator
                                            }}</span>
                                    </td>
                                    <td width="{{ columnsTable[8].width }}" tiOverflow *ngIf="columnsTable[8].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.wCount>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{ row.compare.wCount | separator }}</span>
                                            </span>
                                            <span *ngIf="row.compare.wCount<0" class="count-fill-greed">
                                                <span>{{ row.compare.wCount | separator }}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="{{ columnsTable[9].width }}" tiOverflow *ngIf="columnsTable[9].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span
                                            *ngIf="row.own==='A&B' || row.own==='B'">{{libService.onChangeUnit(row.rByte)}}</span>
                                    </td>
                                    <td width="{{ columnsTable[10].width }}" tiOverflow *ngIf="columnsTable[10].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.rByte>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{libService.onChangeUnit(row.compare.rByte)}}</span>
                                            </span>
                                            <span *ngIf="row.compare.rByte<0" class="count-fill-greed">
                                                <span>-{{libService.onChangeUnit(-row.compare.rByte)}}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="{{ columnsTable[11].width }}" tiOverflow *ngIf="columnsTable[11].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span
                                            *ngIf="row.own==='A&B' || row.own==='B'">{{libService.onChangeUnit(row.wByte)}}</span>
                                    </td>
                                    <td width="{{ columnsTable[12].width }}" tiOverflow *ngIf="columnsTable[12].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.wByte>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{libService.onChangeUnit(row.compare.wByte)}}</span>
                                            </span>
                                            <span *ngIf="row.compare.wByte<0" class="count-fill-greed">
                                                <span>-{{libService.onChangeUnit(-row.compare.wByte)}}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="20px"></td>
                                </tr>
                                <!--第二级-->
                                <ng-container *ngIf="row.showDetails">
                                    <ng-container *ngFor="let subRow of currentHostTableListTop; let idx = index">
                                        <tr (click)="handleHostClicked(subRow, i, idx)"
                                            [ngStyle]="{'background-color': subRow.showDetails || subRow.isSelect ? '#F7FAFF' : 'white'}">
                                            <td tiColumnFixed='left' style="padding-left: 0px!important;
                                            margin-left: 0px!important;" tiOverflow details-icon-column>
                                                <span>
                                                    <span class="headbg"></span>
                                                    <span class="downicon" (click)="beforeToggleSecond(subRow)">
                                                        <img src="./assets/img/projects/expand-down.png"
                                                            [ngClass]="{'open': subRow.showDetailsH}">
                                                    </span>
                                                    <span style="margin-left: 4px;">{{subRow.host}}</span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[1].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span
                                                    *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{onChangeTime(subRow.duration)}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[2].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.duration>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{onChangeTime(subRow.compare.duration)}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.duration<0" class="count-fill-greed">
                                                        <span>-{{onChangeTime(-subRow.compare.duration)}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[3].show">
                                                <div style="position:relative;">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">
                                                        <span *ngIf="subRow.count > 0" [ngStyle]="{
                                                        width:
                                                            (subRow.count / row.count) * 100 + '%'
                                                        }" class="count-fill"></span>
                                                        <span class="count-right">{{
                                                            subRow.count | separator
                                                            }}</span>
                                                    </span>
                                                </div>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[4].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.count>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{subRow.compare.count | separator}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.count<0" class="count-fill-greed">
                                                        <span>{{subRow.compare.count | separator}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[5].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{subRow.rCount |
                                                    separator}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[6].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.rCount>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{subRow.compare.rCount | separator}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.rCount<0" class="count-fill-greed">
                                                        <span>{{subRow.compare.rCount | separator}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[7].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{subRow.wCount |
                                                    separator}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[8].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.wCount>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{subRow.compare.wCount | separator}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.wCount<0" class="count-fill-greed">
                                                        <span>{{subRow.compare.wCount | separator}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[9].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span
                                                    *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{libService.onChangeUnit(subRow.rByte)}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[10].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.rByte>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{libService.onChangeUnit(subRow.compare.rByte)}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.rByte<0" class="count-fill-greed">
                                                        <span>-{{libService.onChangeUnit(-subRow.compare.rByte)}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[11].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span
                                                    *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{libService.onChangeUnit(subRow.wByte)}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[12].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.wByte>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{libService.onChangeUnit(subRow.compare.wByte)}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.wByte<0" class="count-fill-greed">
                                                        <span>-{{libService.onChangeUnit(-subRow.compare.wByte)}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td width="20px"></td>
                                        </tr>
                                        <!--第三级-->
                                        <ng-container *ngIf="subRow.showDetailsH">
                                            <tr *ngFor="let fdRow of currentFdTableListTop; let fi = index"
                                                (click)="hanldeFdClicked(fdRow, i, idx, fi)"
                                                [ngStyle]="{'background-color': fdRow.isSelect ? '#F7FAFF' : 'white'}">
                                                <td style="padding-left: 0px!important;
                                                margin-left: 0px!important;" tiColumnFixed='left' tiOverflow>
                                                    <span>
                                                        <span class="headbgfirst"></span>
                                                        <span class="headbgsecond"></span>
                                                        <span style="margin-left: 85px;">{{fdRow.fileDes}}</span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[1].show">
                                                    <span *ngIf="fdRow.own==='A'">--</span>
                                                    <span
                                                        *ngIf="fdRow.own==='A&B' || fdRow.own==='B'">{{onChangeTime(fdRow.duration)}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[2].show">
                                                    <span
                                                        *ngIf="fdRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="fdRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="fdRow.own==='A&B'">
                                                        <span *ngIf="fdRow.compare.duration>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{onChangeTime(fdRow.compare.duration)}}</span>
                                                        </span>
                                                        <span *ngIf="fdRow.compare.duration<0" class="count-fill-greed">
                                                            <span>-{{onChangeTime(-fdRow.compare.duration)}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[3].show">
                                                    <div style="position:relative;">
                                                        <span *ngIf="fdRow.own==='A'">--</span>
                                                        <span *ngIf="fdRow.own==='A&B' || fdRow.own==='B'">
                                                            <span *ngIf="fdRow.count > 0" [ngStyle]="{
                                                        width:
                                                            (fdRow.count / row.count) * 100 + '%'
                                                        }" class="count-fill"></span>
                                                            <span class="count-right">{{
                                                                fdRow.count | separator
                                                                }}</span>
                                                        </span>
                                                    </div>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[4].show">
                                                    <span
                                                        *ngIf="fdRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="fdRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="fdRow.own==='A&B'">
                                                        <span *ngIf="fdRow.compare.count>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{fdRow.compare.count | separator}}</span>
                                                        </span>
                                                        <span *ngIf="fdRow.compare.count<0" class="count-fill-greed">
                                                            <span>{{fdRow.compare.count | separator}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[5].show">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{subRow.rCount
                                                        | separator}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[6].show">
                                                    <span
                                                        *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="subRow.own==='A&B'">
                                                        <span *ngIf="subRow.compare.rCount>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{subRow.compare.rCount | separator}}</span>
                                                        </span>
                                                        <span *ngIf="subRow.compare.rCount<0" class="count-fill-greed">
                                                            <span>{{subRow.compare.rCount | separator}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[7].show">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{subRow.wCount
                                                        | separator}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[8].show">
                                                    <span
                                                        *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="subRow.own==='A&B'">
                                                        <span *ngIf="subRow.compare.wCount>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{subRow.compare.wCount | separator}}</span>
                                                        </span>
                                                        <span *ngIf="subRow.compare.wCount<0" class="count-fill-greed">
                                                            <span>{{subRow.compare.wCount | separator}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[9].show">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span
                                                        *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{libService.onChangeUnit(subRow.rByte)}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[10].show">
                                                    <span
                                                        *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="subRow.own==='A&B'">
                                                        <span *ngIf="subRow.compare.rByte>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{libService.onChangeUnit(subRow.compare.rByte)}}</span>
                                                        </span>
                                                        <span *ngIf="subRow.compare.rByte<0" class="count-fill-greed">
                                                            <span>-{{libService.onChangeUnit(-subRow.compare.rByte)}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[11].show">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span
                                                        *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{libService.onChangeUnit(subRow.wByte)}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[12].show">
                                                    <span
                                                        *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="subRow.own==='A&B'">
                                                        <span *ngIf="subRow.compare.wByte>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{libService.onChangeUnit(subRow.compare.wByte)}}</span>
                                                        </span>
                                                        <span *ngIf="subRow.compare.wByte<0" class="count-fill-greed">
                                                            <span>-{{libService.onChangeUnit(-subRow.compare.wByte)}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td width="20px"></td>
                                            </tr>
                                        </ng-container>
                                    </ng-container>
                                </ng-container>
                            </ng-container>
                        </tbody>
                        <tbody *ngIf="displayedTable.length === 0">
                            <tr class="noHover">
                                <td tiColspan>
                                    <div class="noData">
                                        <img class='newNoData' src="./assets/img/projects/noData.svg" />
                                        <p>{{i18n.common_term_task_nodata}}</p>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <ti-pagination class="pagination-bottom" id="pagination" [(currentPage)]="leftcurrentPage"
                    [pageSize]="leftpageSize" [(totalNumber)]="lefttotalNumber">
                </ti-pagination>
            </ti-table>
        </div>
        <!-- 右侧 -->
        <div class="table-time">
            <div class="search-box">
                <ti-searchbox class="search" [placeholder]="searchThreadValue.placeholder" (clear)="threadClear($event)"
                    (search)="threadSearch($event)" [(ngModel)]="searchThreadValue.value"></ti-searchbox>
            </div>
            <ti-table class="right-ti-table" [(displayedData)]="displayedTableTime" [srcData]="srcDataTableTime"
                [columns]="columnsTableTime" [searchWords]="searchThreadWords" [searchKeys]="searchThreadKeys"
                tiColsResizable>
                <div class="ti3-table-fixed-head">
                    <table>
                        <thead>
                            <tr>
                                <ng-container *ngFor="let column of columnsTableTime">
                                    <th [tiColumnFixed]="column.fixed" width="{{ column.width }}" tiOverflow>
                                        <ti-cell-text>{{ column.title }}</ti-cell-text>
                                        <ti-head-sort *ngIf="column.isSort" [sortKey]="column.sortKey">
                                        </ti-head-sort>
                                        <ti-head-filter *ngIf="column.filter" [options]="column.options"
                                            [(ngModel)]="column.selected" (select)="onTypeSelect()"
                                            [ngClass]="{'ti3-head-filtered': column.selected && column.selected.length}"
                                            [multiple]="column.multiple" [selectAll]="column.selectAll"
                                            [searchable]="column.searchable"></ti-head-filter>
                                    </th>
                                </ng-container>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="ti3-table-container ti3-resize-wrapper" style="height: 240px" [ngStyle]="{
                height: expand ? '520px' : '240px',
                'min-height': '240px'
                }">
                    <table>
                        <thead>
                            <tr>
                                <th [tiColumnFixed]="column.fixed" *ngFor="let column of columnsTableTime" tiOverflow
                                    width="{{ column.width }}"></th>
                            </tr>
                        </thead>
                        <tbody id="gc_activity_body">
                            <ng-container *ngFor="let item of displayedTableTime; let i = index">
                                <tr [ngStyle]="{
                        'background-color': item.isSelect ? '#F7FAFF' : ''
                        }" (click)="onClickRightTable(item, i)">
                                    <td tiColumnFixed='left' tiOverflow>{{ item.threadName }}</td>
                                    <td tiOverflow>{{ item.own }}</td>
                                    <td tiOverflow>{{ item.type }}</td>
                                    <td tiOverflow>{{ item.start }}</td>
                                    <td tiOverflow>{{ libService.onChangeUnit(item.byte) }}</td>
                                    <td tiOverflow>{{ item.rate + ' ' + i18n.common_unit_kibs }}</td>
                                    <td tiOverflow>{{ onChangeTime(item.duration) }}</td>
                                </tr>
                            </ng-container>
                        </tbody>
                        <tbody *ngIf="displayedTableTime.length === 0">
                            <tr class="noHover">
                                <td tiColspan>
                                    <div class="noData">
                                        <img class='newNoData' src="./assets/img/projects/noData.svg" />
                                        <p>{{i18n.common_term_task_nodata}}</p>
                                    </div>
                                </td>
                            </tr>
                        </tbody>

                    </table>
                </div>
                <ti-pagination [ngClass]="{'pagination-bottom-right': !leftState}" class="pagination-bottom"
                    id="pagination" [(currentPage)]="currentPage" [pageSize]="pageSize" [(totalNumber)]="totalNumber">
                </ti-pagination>
            </ti-table>
        </div>
        <img (click)="onClickExpand()" class="table-expand" *ngIf="expand"
            (mouseenter)="libService.onHoverIcon('expand-up')" (mouseleave)="libService.onHoverIcon()"
            [src]="libService.hoverIcon === 'expand-up' ? './assets/img/home/expand_up_hover.svg' : './assets/img/home/expand_up.svg'">
        <img (click)="onClickExpand()" class="table-expand" *ngIf="!expand"
            (mouseenter)="libService.onHoverIcon('expand-down')" (mouseleave)="libService.onHoverIcon()"
            [src]="libService.hoverIcon === 'expand-down' ? './assets/img/home/expand_down_hover.svg' : './assets/img/home/expand_down.svg'">
    </div>
    <div class="echarts">
        <div class="echarts-title">
            <span>{{ echartsTitle }} </span>
            <span style="margin-left: 16px;color: #979797;">{{currentEchartsIPName}}</span>
            <span *ngIf="currentEchartsAddrName" style="color: #979797;">{{ ' ( ' + currentEchartsAddrName }}
                <span *ngIf="currentEchartsFdName" style="color: #979797;">{{ ' [ ' + currentEchartsFdName + ' ] '
                    }}</span>
                {{ ' ) ' }}</span>
        </div>
        <div class='timeLine'>
            <app-time-line [timeData]='timeData' (timeLineData)='timeLineData($event)' #ioTimeLine>
            </app-time-line>
        </div>
        <div class="echarts-content">
            <div class="echarts-label" *ngIf="echartsLabelTop">
                <div class="echarts-label-top">
                    {{ this.libService.onChangeUnit(echartsLabelTop*1024) }}/s
                </div>
                <div class="echarts-label-bottom">
                    {{ echartsLabelBottom }}
                </div>
            </div>
            <div id="fileIOEcharts" style="width: 100%;height: 300px;"></div>
        </div>
    </div>
    <div class="stack">
        <div class="config-title">
            {{ i18n.protalserver_sampling_lock_stack }}
            <app-stack-tip [depth]="downloadService.downloadItems.pSocketIO.stackDepth"></app-stack-tip>
        </div>
        <div class="config-border"></div>
        <div class="config-tree" id="stackData">
            <ti-tree [data]="stackTranceData" (select)="onSelect($event)">
                <ng-template let-item let-i="index">
                    <img src="./assets/img/profiling/expand.svg" class="expandAll"
                        *ngIf="!item.expanded  && item.children && item.children.length" (click)="expandAllNode(item)">
                    <img class="expandAll" *ngIf="item.expanded && item.children && item.children.length"
                        src="./assets/img/profiling/noExpand.svg">
                    <span tiOverflow tiTipPosition="right" style="vertical-align: middle;">
                        <span [ngStyle]="{ width: '0px' }" style="
                display: inline-block;
                min-width: 0.1px;
                max-width: 150px;
                height: 10px;
                background: var(--table-count-bg-color);
                margin-right: 5px;
                "></span>
                        <span style="cursor: pointer; padding-right: 10px;">{{
                            item.label
                            }}</span>
                    </span>
                </ng-template>
            </ti-tree>
        </div>
        <div class="config-border"></div>
    </div>
</div>
<ng-template #configTwo let-context="context">
    <div class="config_title">{{ i18n.jdbcpool_config_title }}</div>
    <div class="spinner_content">
        <div style="margin-right: 7px;">{{ i18n.jdbcpool_config_top }}</div>
        <ti-spinner class="spinner2" style="width: 150px;" name="spinner2" [min]="spinner.min" [max]="spinner.max"
            [format]="spinner.format" [(ngModel)]="spinnerValue" [tiRangeValue]="spinner.rangeValue"
            (ngModelChange)="onModelChange($event)" tiValidation tiRequired [disabled]="startBtnDisabled">
        </ti-spinner>
    </div>
</ng-template>
