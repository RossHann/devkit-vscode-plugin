
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="Creating a Sampling Analysis Task">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="en-us_topic_0209366686.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="user guide">
<meta name="DC.Publisher" content="20210630">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="EN-US_TOPIC_0209366687">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>Creating a Sampling Analysis Task</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="EN-US_TOPIC_0209366687"></a><a name="EN-US_TOPIC_0209366687"></a>

<h1 class="topictitle1">Creating a Sampling Analysis Task</h1>
<div id="body1575358439533"><div class="section" id="EN-US_TOPIC_0209366687__section11470129119"><h4 class="sectiontitle">Prerequisites</h4><ul id="EN-US_TOPIC_0209366687__ul19728115524014"><li id="EN-US_TOPIC_0209366687__li14728125512402">A Guardian is added and is in online state.</li><li id="EN-US_TOPIC_0209366687__li23356373011">The JDK must be JDK 11 or later.<div class="note" id="EN-US_TOPIC_0209366687__en-us_topic_0224496041_note3336101593413"><img src="public_sys-resources/note_3.0-en-us.png"><span class="notetitle"> </span><div class="notebody"><p id="EN-US_TOPIC_0209366687__en-us_topic_0224496041_p1336191511347">If the Guardian was deployed by an OS administrator and you want to perform profiling on a Java process that was not created by an OS administrator, ensure that the JDK running the Java process is JDK 11 or later, and configure the <strong id="EN-US_TOPIC_0209366687__b831883602015">JAVA_HOME</strong> environment variable in the non-interactive shell. For details, see "Common Operations &gt; Configuring JDK".</p>
</div></div>
</li></ul>
</div>
<div class="section" id="EN-US_TOPIC_0209366687__section106231011124311"><h4 class="sectiontitle">Procedure</h4><ol id="EN-US_TOPIC_0209366687__ol1052162113269"><li id="EN-US_TOPIC_0209366687__li14522182152620"><span>On the home page of the <span id="EN-US_TOPIC_0209366687__en-us_topic_0224496041_ph12594180204619">Java Profiler</span> WebUI, select the target Guardian in the <strong id="EN-US_TOPIC_0209366687__en-us_topic_0224496041_b1084172314442">Guardian List</strong> area and select the target Java process in the <strong id="EN-US_TOPIC_0209366687__en-us_topic_0224496041_b1952404911443">Java Processes List</strong> area, as shown in <a href="#EN-US_TOPIC_0209366687__en-us_topic_0224496041_fig06509437438">Figure 1</a>. </span><p><div class="fignone" id="EN-US_TOPIC_0209366687__en-us_topic_0224496041_fig06509437438"><a name="EN-US_TOPIC_0209366687__en-us_topic_0224496041_fig06509437438"></a><a name="en-us_topic_0224496041_fig06509437438"></a><span class="figcap"><b>Figure 1 </b>Selecting a Java process</span><br><span><img id="EN-US_TOPIC_0209366687__en-us_topic_0224496041_image16699555123112" src="en-us_image_0000001133933553.png"></span></div>
<p id="EN-US_TOPIC_0209366687__en-us_topic_0224496041_p11325102633011">Click <span><img id="EN-US_TOPIC_0209366687__en-us_topic_0224496041_image963420574305" src="en-us_image_0000001110810528.png"></span> to import the downloaded report and perform verification during the import.</p>
</p></li><li id="EN-US_TOPIC_0209366687__li13477352184317"><span>Click <strong id="EN-US_TOPIC_0209366687__b14274531183311">Sampling Analysis</strong>.</span><p><p id="EN-US_TOPIC_0209366687__p728813817455">The <strong id="EN-US_TOPIC_0209366687__b248803053413">Add Sampling Analysis</strong> page is displayed, as shown in <a href="#EN-US_TOPIC_0209366687__fig93481248174913">Figure 2</a>. For details about the parameters, see <a href="#EN-US_TOPIC_0209366687__en-us_topic_0189424700_table423624975820">Table 1</a>.</p>
<div class="fignone" id="EN-US_TOPIC_0209366687__fig93481248174913"><a name="EN-US_TOPIC_0209366687__fig93481248174913"></a><a name="fig93481248174913"></a><span class="figcap"><b>Figure 2 </b>Adding a sampling analysis task</span><br><span><img id="EN-US_TOPIC_0209366687__image14969172395317" src="en-us_image_0319735791.png"></span></div>

<div class="tablenoborder"><a name="EN-US_TOPIC_0209366687__en-us_topic_0189424700_table423624975820"></a><a name="en-us_topic_0189424700_table423624975820"></a><table cellpadding="4" cellspacing="0" summary="" id="EN-US_TOPIC_0209366687__en-us_topic_0189424700_table423624975820" frame="border" border="1" rules="all"><caption><b>Table 1 </b>Parameters for adding a sampling analysis task</caption><colgroup><col style="width:28.9%"><col style="width:71.1%"></colgroup><thead align="left"><tr id="EN-US_TOPIC_0209366687__en-us_topic_0189424700_row323612494584"><th align="left" class="cellrowborder" valign="top" width="28.9%" id="mcps1.3.2.2.2.2.3.2.3.1.1"><p id="EN-US_TOPIC_0209366687__en-us_topic_0189424700_p52362498581">Parameter</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="71.1%" id="mcps1.3.2.2.2.2.3.2.3.1.2"><p id="EN-US_TOPIC_0209366687__en-us_topic_0189424700_p6236124911583">Description</p>
</th>
</tr>
</thead>
<tbody><tr id="EN-US_TOPIC_0209366687__row4740132414394"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p2074072493919">Recording Mode</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p574062416393">Select either of the following recording methods:</p>
<ul id="EN-US_TOPIC_0209366687__ul144761532174016"><li id="EN-US_TOPIC_0209366687__li647673264012">Specified duration: You can specify the sampling duration.</li><li id="EN-US_TOPIC_0209366687__li15330205815403">Unlimited duration: The sampling duration is unlimited.<div class="note" id="EN-US_TOPIC_0209366687__note1398136114612"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0209366687__p739815604612">You need to manually stop the sampling analysis when the recording mode is set to unlimited duration.</p>
</div></div>
</li></ul>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__row12255614123413"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p4228122225211">Duration (s)</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p72561114193413">Sampling analysis duration. The default value is <strong id="EN-US_TOPIC_0209366687__b13373115203610">60</strong>. The value range is 1 to 300.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__en-us_topic_0189424700_row156132793516"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p1322522285212">Method Sampling</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p08532566347">Method sampling function, which can be enabled or disabled. This function is enabled by default.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__en-us_topic_0189424700_row09671924103512"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p5201322135215">Java Method Sampling Interval (ms)</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__en-us_topic_0189424700_p2967182410356">Interval (in ms) at which the Java method sampling is performed. The default value is <strong id="EN-US_TOPIC_0209366687__b1449713984218">1</strong>. The value range is 1 to 1000.</p>
<div class="note" id="EN-US_TOPIC_0209366687__note16355133417520"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0209366687__p4355183415210">This parameter is unavailable if <strong id="EN-US_TOPIC_0209366687__b1638819495106">Method Sampling</strong> is disabled.</p>
</div></div>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__row144191553175314"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p94201953175313">Native Method Sampling Interval (ms)</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p1742017532534">Interval (in ms) at which the Native method sampling is performed. The default value is <strong id="EN-US_TOPIC_0209366687__b18606147195520">1</strong>. The value range is 1 to 1000.</p>
<div class="note" id="EN-US_TOPIC_0209366687__note1874111508546"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0209366687__en-us_topic_0209366687_p4355183415210">This parameter is unavailable if <strong id="EN-US_TOPIC_0209366687__en-us_topic_0209366687_b1638819495106">Method Sampling</strong> is disabled.</p>
</div></div>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__row18263919549"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p1882715913544">Thread Dump</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p17827594542">Indicates whether to enable thread dump. This function is enabled by default.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__row16413182512541"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p44142259545">Dump Interval (s)</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p7414625185413">Interval (in seconds) at which the thread dump is performed. The default value is <strong id="EN-US_TOPIC_0209366687__b0859257182519">1</strong>. The value range is 1 to 60.</p>
<div class="note" id="EN-US_TOPIC_0209366687__note9242745420"><span class="notetitle"> NOTE: </span><div class="notebody"><ul id="EN-US_TOPIC_0209366687__ul1704154229"><li id="EN-US_TOPIC_0209366687__li19081514228">This parameter is unavailable if <strong id="EN-US_TOPIC_0209366687__b165841217174511">Thread Dump</strong> is disabled.</li><li id="EN-US_TOPIC_0209366687__li601715112216">The value of <strong id="EN-US_TOPIC_0209366687__b892244710212">Dump Interval</strong> must be less than or equal to the value of <strong id="EN-US_TOPIC_0209366687__b94331713102215">Duration</strong>. You are advised to set <strong id="EN-US_TOPIC_0209366687__b745962519491">Dump Interval</strong> to <strong id="EN-US_TOPIC_0209366687__b51801829184917">1</strong>, <strong id="EN-US_TOPIC_0209366687__b1553913317495">5</strong>, <strong id="EN-US_TOPIC_0209366687__b1368357494">10</strong>, <strong id="EN-US_TOPIC_0209366687__b1850810375497">20</strong>, <strong id="EN-US_TOPIC_0209366687__b1042834124913">30</strong>, or <strong id="EN-US_TOPIC_0209366687__b17756174513493">60</strong> seconds.</li></ul>
</div></div>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__row1843254917517"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p1143364914511">File I/O Sampling</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p643344935118">Indicates whether to enable file I/O sampling. This function is disabled by default.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__row189761052115117"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p397635215514">Threshold (μs)</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p1582019362594">File I/O sampling threshold. The default value is <strong id="EN-US_TOPIC_0209366687__b356183412561">10</strong>. The value range is 1 to 1000.</p>
<p id="EN-US_TOPIC_0209366687__p1515119488149">This parameter is displayed only when <strong id="EN-US_TOPIC_0209366687__b1941315610199">File I/O Sampling</strong> is enabled.</p>
<div class="note" id="EN-US_TOPIC_0209366687__note51141075174"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0209366687__p51146731712">The tool captures only the file I/Os that exceed the threshold for analysis.</p>
</div></div>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__row1681413416524"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p181417343524">Socket I/O Sampling</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p1281493485218">Indicates whether to enable socket I/O sampling. This function is disabled by default.</p>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__row58881850145214"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p188890509523">Threshold (ms)</p>
<p id="EN-US_TOPIC_0209366687__p7493134519103"></p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p3889195065211">Socket I/O sampling threshold. The default value is <strong id="EN-US_TOPIC_0209366687__b1266772605615">10</strong>. The value range is 1 to 1000.</p>
<p id="EN-US_TOPIC_0209366687__p5962173214151">This parameter is displayed only when <strong id="EN-US_TOPIC_0209366687__b211420239232">Socket I/O Sampling</strong> is enabled.</p>
<div class="note" id="EN-US_TOPIC_0209366687__note194938175179"><span class="notetitle"> NOTE: </span><div class="notebody"><p id="EN-US_TOPIC_0209366687__p184934174170">The tool captures only the socket I/Os that exceed the threshold for analysis.</p>
</div></div>
</td>
</tr>
<tr id="EN-US_TOPIC_0209366687__row16687012189"><td class="cellrowborder" valign="top" width="28.9%" headers="mcps1.3.2.2.2.2.3.2.3.1.1 "><p id="EN-US_TOPIC_0209366687__p116690017182">Old-Generation Object Sampling</p>
</td>
<td class="cellrowborder" valign="top" width="71.1%" headers="mcps1.3.2.2.2.2.3.2.3.1.2 "><p id="EN-US_TOPIC_0209366687__p12669180151819">Indicates whether to enable old-generation object sampling. This function is enabled by default.</p>
</td>
</tr>
</tbody>
</table>
</div>
</p></li><li id="EN-US_TOPIC_0209366687__li1460549558"><span>Set parameters according to <a href="#EN-US_TOPIC_0209366687__en-us_topic_0189424700_table423624975820">Table 1</a> and click <strong id="EN-US_TOPIC_0209366687__b4109334115918">OK</strong>.</span><p><div class="p" id="EN-US_TOPIC_0209366687__p1232853131517">The task process is displayed, as shown in <a href="#EN-US_TOPIC_0209366687__fig1667016127">Figure 3</a>.<div class="fignone" id="EN-US_TOPIC_0209366687__fig1667016127"><a name="EN-US_TOPIC_0209366687__fig1667016127"></a><a name="fig1667016127"></a><span class="figcap"><b>Figure 3 </b>Task process</span><br><span><img id="EN-US_TOPIC_0209366687__image18177022123311" src="en-us_image_0000001133816565.png"></span></div>
</div>
<p id="EN-US_TOPIC_0209366687__p661161517371">Click <strong id="EN-US_TOPIC_0209366687__b165433371963">Stop</strong> to stop the profiling task.</p>
<p id="EN-US_TOPIC_0209366687__p67909200116">Click <strong id="EN-US_TOPIC_0209366687__b2624103971">Cancel</strong> to cancel the profiling task.</p>
<p id="EN-US_TOPIC_0209366687__p870719447424">After the sampling analysis task is created, you can click <span><img id="EN-US_TOPIC_0209366687__image193714444218" src="en-us_image_0303952057.png"></span> to view the tuning suggestions on all tab pages.</p>
</p></li></ol>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="en-us_topic_0209366686.html">Sampling Analysis</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">Copyright &copy; Huawei Technologies Co., Ltd.</div></body>
</html>