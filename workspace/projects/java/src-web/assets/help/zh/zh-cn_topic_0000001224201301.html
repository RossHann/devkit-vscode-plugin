
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="开启对应日志级别获取GC日志数据">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="zh-cn_topic_0000001179041524.html">
<meta name="prodname" content="">
<meta name="version" content="2.3.0">
<meta name="brand" content="鲲鹏性能分析工具 (Java性能分析)">
<meta name="DC.Publisher" content="20211230">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="ZH-CN_TOPIC_0000001224201301">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>开启对应日志级别获取GC日志数据</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="ZH-CN_TOPIC_0000001224201301"></a><a name="ZH-CN_TOPIC_0000001224201301"></a>

<h1 class="topictitle1">开启对应日志级别获取GC日志数据</h1>
<div id="body0000001113657632"><p id="ZH-CN_TOPIC_0000001224201301__p5936137121716">GC日志页面如未获取到数据，请确认是否开启对应日志级别，即在Java进程启动时添加参数，开启后即可查看数据。日志开启级别如<a href="#ZH-CN_TOPIC_0000001224201301__table799415487276">表 日志开启级别对照表</a>所示。</p>
<div class="note" id="ZH-CN_TOPIC_0000001224201301__note262155012179"><img src="public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="ZH-CN_TOPIC_0000001224201301__ul2090519445519"><li id="ZH-CN_TOPIC_0000001224201301__li17905044185114">如果使用Java版本为Java 8，启动进程时需添加参数：-XX:+UseG1GC。</li><li id="ZH-CN_TOPIC_0000001224201301__li13998194614515">Java 9及以后版本参数格式详见：<a href="http://openjdk.java.net/jeps/158" target="_blank" rel="noopener noreferrer">http://openjdk.java.net/jeps/158</a></li></ul>
</div></div>

<div class="tablenoborder"><a name="ZH-CN_TOPIC_0000001224201301__table799415487276"></a><a name="table799415487276"></a><table cellpadding="4" cellspacing="0" summary="" id="ZH-CN_TOPIC_0000001224201301__table799415487276" frame="border" border="1" rules="all"><caption><b>表1 </b>日志开启级别对照表</caption><colgroup><col style="width:10.12%"><col style="width:30.98%"><col style="width:58.9%"></colgroup><thead align="left"><tr id="ZH-CN_TOPIC_0000001224201301__row169951048142714"><th align="left" class="cellrowborder" valign="top" width="10.12%" id="mcps1.3.3.2.4.1.1"><p id="ZH-CN_TOPIC_0000001224201301__p2923567223">Java版本</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="30.98%" id="mcps1.3.3.2.4.1.2"><p id="ZH-CN_TOPIC_0000001224201301__p10995184817271">日志开启级别</p>
</th>
<th align="left" class="cellrowborder" valign="top" width="58.9%" id="mcps1.3.3.2.4.1.3"><p id="ZH-CN_TOPIC_0000001224201301__p1099544872717">可查看页面</p>
</th>
</tr>
</thead>
<tbody><tr id="ZH-CN_TOPIC_0000001224201301__row0995174842717"><td class="cellrowborder" rowspan="2" valign="top" width="10.12%" headers="mcps1.3.3.2.4.1.1 "><p id="ZH-CN_TOPIC_0000001224201301__p18647141813228">Java 8</p>
</td>
<td class="cellrowborder" valign="top" width="30.98%" headers="mcps1.3.3.2.4.1.2 "><p id="ZH-CN_TOPIC_0000001224201301__p49951048132714">-verbose:gc</p>
</td>
<td class="cellrowborder" valign="top" width="58.9%" headers="mcps1.3.3.2.4.1.3 "><p id="ZH-CN_TOPIC_0000001224201301__p13995104818271">线性度、细化分析中的详细阶段、eden、Survivor、元数据区暂无数据。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224201301__row189951148132710"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.4.1.1 "><p id="ZH-CN_TOPIC_0000001224201301__p1699519486278">-XX:+PrintGCDetails</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.4.1.2 "><p id="ZH-CN_TOPIC_0000001224201301__p8995134818273">可显示全部数据，其中元数据区需有Full GC事件时才有相关记录。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224201301__row16995164814276"><td class="cellrowborder" rowspan="5" valign="top" width="10.12%" headers="mcps1.3.3.2.4.1.1 "><p id="ZH-CN_TOPIC_0000001224201301__p1663132517222">Java 9及之后版本</p>
</td>
<td class="cellrowborder" rowspan="3" valign="top" width="30.98%" headers="mcps1.3.3.2.4.1.2 "><p id="ZH-CN_TOPIC_0000001224201301__p29953482272">-Xlog:gc*=info</p>
</td>
<td class="cellrowborder" valign="top" width="58.9%" headers="mcps1.3.3.2.4.1.3 "><p id="ZH-CN_TOPIC_0000001224201301__p199584822711">GC标签可显示GC暂停相关信息，heap堆变化信息。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224201301__row15995548122714"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.4.1.1 "><p id="ZH-CN_TOPIC_0000001224201301__p18996134811273">GC，CPU标签可显示线性度信息。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224201301__row89967480271"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.4.1.1 "><p id="ZH-CN_TOPIC_0000001224201301__p149961348182713">GC，Marking标签可显示并行阶段信息。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224201301__row1099616485275"><td class="cellrowborder" rowspan="2" valign="top" headers="mcps1.3.3.2.4.1.1 "><p id="ZH-CN_TOPIC_0000001224201301__p112841144610">-Xlog:gc*=debug</p>
</td>
<td class="cellrowborder" valign="top" headers="mcps1.3.3.2.4.1.2 "><p id="ZH-CN_TOPIC_0000001224201301__p149961948112719">GC，heap标签可查看eden,Survivor,metaspace内存变化。</p>
</td>
</tr>
<tr id="ZH-CN_TOPIC_0000001224201301__row1699618480279"><td class="cellrowborder" valign="top" headers="mcps1.3.3.2.4.1.1 "><p id="ZH-CN_TOPIC_0000001224201301__p399664832715">phases标签可查看GC暂停细化的详情阶段。</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="zh-cn_topic_0000001179041524.html">常用操作</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">版权所有 &copy; 华为技术有限公司</div></body>
</html>