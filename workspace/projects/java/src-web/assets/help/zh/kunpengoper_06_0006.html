
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="zh-cn" xml:lang="zh-cn">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="DC.Type" content="topic">
<meta name="DC.Title" content="设置节点服务器SSH认证信息">
<meta name="product" content="">
<meta name="DC.Relation" scheme="URI" content="zh-cn_topic_0233026414.html">
<meta name="prodname" content="">
<meta name="version" content="">
<meta name="brand" content="鲲鹏性能分析工具">
<meta name="DC.Publisher" content="20210406">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="kunpengoper_06_0006">
<meta name="DC.Language" content="zh-cn">
<link rel="stylesheet" type="text/css" href="public_sys-resources/commonltr.css">
<title>设置节点服务器SSH认证信息</title>
</head>
<body style="clear:both; padding-left:10px; padding-top:5px; padding-right:5px; padding-bottom:5px"><a name="kunpengoper_06_0006"></a><a name="kunpengoper_06_0006"></a>

<h1 class="topictitle1">设置节点服务器SSH认证信息</h1>
<div id="body8662426"><ol id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_zh-cn_topic_0223027007_ol10856101134010"><li id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_zh-cn_topic_0223027007_li1085612113405"><span>使用SSH远程登录工具，以系统用户登录Linux操作系统命令行界面。</span><p><div class="note" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_note785724015469"><img src="public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><p id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0228009037_p839111901719">该步骤必须在<strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0228009037_b13764559112216">root</strong>用户下执行，若以普通系统用户登录，需要执行<strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0228009037_b11403125814246">su</strong>切换到<strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0228009037_b152921618182912">root</strong>用户下执行后续操作。</p>
</div></div>
</p></li><li id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_li175281227182919"><span>执行如下命令生成生成公私钥对。</span><p><p id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_p477434712294"><strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b2570185083019">ssh-keygen -t rsa</strong></p>
<p id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_p15366123123714">过程中需要：</p>
<ul id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_ul3882818153512"><li id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_li2882201814357">（可选）输入保存的文件名，默认为在<span class="filepath" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_filepath1950613497516">“/root/.ssh/id_rsa”</span>目录下保存为<span class="filepath" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_filepath114743541516">“id_rsa”</span>（私钥）和<span class="filepath" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_filepath13290359175116">“id_rsa.pub”</span>（公钥）文件。</li><li id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_li38141145113520">（可选）设置密钥的密码口令。</li></ul>
<p id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_p13676165183810">回显信息如下：</p>
<pre class="screen" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_screen179884349339">Generating public/private rsa key pair.
 Enter file in which to save the key (/root/.ssh/id_rsa):
 Enter passphrase (empty for no passphrase):
 Enter same passphrase again:
 Your identification has been saved in /root/.ssh/id_rsa.
 Your public key has been saved in /root/.ssh/id_rsa.pub.
 The key fingerprint is:
 SHA256:VQ/d88ESEpx1M91WDEi6KHXOu1/mCSFkq7DjxtEqZ9A root@Malluma
 The key's randomart image is:
 +---[RSA 2048]----+
 | .+B=+B=|
 | =o+o+O|
 | . * o.+|
 | . O o .|
 | .o.S * . |
 | . E+.. o . |
 | ooo. . . o |
 | ..*. . = . |
 | =. ... o |
 +----[SHA256]-----+</pre>
</p></li><li id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_li244876133115"><span>执行如下命令将公钥文件上传到节点服务器。</span><p><p id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_p157153584014"><strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b44411831184012">ssh-copy-id -i </strong><em id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_i1430943217403">/root/.ssh/id_rsa.pub</em><strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b1144143184020"> root</strong><strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b1139917477404">@</strong><em id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_i7469125104010">Sever IP</em></p>
<div class="note" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_note143619258411"><img src="public_sys-resources/note_3.0-zh-cn.png"><span class="notetitle"> </span><div class="notebody"><ul id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_ul731172314462"><li id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_li1731162317461"><i><span class="varname" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_varname438383720414">/root/.ssh/id_rsa.pub</span></i>为生成的公钥文件，<i><span class="varname" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_varname1950810904219">Sever IP</span></i>为节点服务器IP地址，请根据实际替换。</li><li id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_li16311023114618">上传的公钥文件默认保存在<span class="filepath" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_filepath1840017194715">“/root/.ssh”</span>目录。</li></ul>
</div></div>
<p id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_p199061135316">过程中会需要输入节点服务器的<strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b16900111116539">root</strong>用户密码。</p>
</p></li><li id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_li1528102617395"><span>执行如下命令将私钥文件复制到<span class="filepath" id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_filepath67312014125118">“/home/malluma”</span>目录下。</span><p><p id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_p5402152834716"><strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b929011525473">cp </strong><em id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_i198113548471">/root/.ssh/id_rsa</em><strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b115556584476"> </strong><strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b1769819544814">/home/malluma</strong></p>
</p></li><li id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_li17897122464716"><span>执行如下命令设置<strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b1970613441041">malluma</strong>用户的权限。</span><p><p id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_p1685662311483"><strong id="kunpengoper_06_0006__zh-cn_topic_0000001163108949_zh-cn_topic_0271995284_b497882554820">chown malluma:malluma /home/malluma/id_rsa</strong></p>
</p></li></ol>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>父主题：</strong> <a href="zh-cn_topic_0233026414.html">常用操作</a></div>
</div>
</div>

<div class="hrcopyright"><hr size="2"></div><div class="hwcopyright">版权所有 &copy; 华为技术有限公司</div></body>
</html>