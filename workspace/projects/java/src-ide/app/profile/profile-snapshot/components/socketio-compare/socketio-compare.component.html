<div class="btn-header">
    <span (mouseenter)="onContrastHoverList('hover')" (mouseleave)="onContrastHoverList()" (click)="goBack()"
        [tiTip]="i18n.profileMemorydump.histogram.common_term_back" style="cursor: pointer;margin-right: 10px;">
        <img *ngIf="ContrastHover === 'hover'" src="./assets/img/newSvg/icon_back_hover.svg">
        <img *ngIf="ContrastHover !== 'hover'" src="./assets/img/newSvg/icon_back.svg">
    </span>
    <span class="pro-title">
        <span class="pro_text">
            <span class="pro_text_img"><img src="./assets/img/newSvg/Bsnap.svg"></span>
            <span>{{i18n.profileMemorydump.snapShot.squareBracketL}}{{snapshotB}}{{i18n.profileMemorydump.snapShot.squareBracketR}}</span>
        </span>
        <span class="toggleSnapshot" (click)="toggleSnapshot()">
            <img src="./assets/img/newSvg/toggle_clicked.svg">
        </span>
        <span class="pro_text">
            <span class="pro_text_img"><img src="./assets/img/newSvg/Asnap.svg"></span>
            <span>{{i18n.profileMemorydump.snapShot.squareBracketL}}{{snapshotA}}{{i18n.profileMemorydump.snapShot.squareBracketR}}{{i18n.profileMemorydump.snapShot.snapshotContrast}}</span>
        </span>
    </span>
    <span class="formula_text">
        <span>{{i18n.profileMemorydump.snapShot.formulaSnapshot}}</span>
        <span class="formula_text_img" style="margin-right: 5px;">
            <img src="./assets/img/newSvg/Bsnap.svg">
        </span>
        <span>{{i18n.profileMemorydump.snapShot.subtracted}}</span>
        <span class="formula_text_img">
            <img src="./assets/img/newSvg/Asnap.svg">
        </span>
    </span>
</div>
<div class="socket-io-compare">
    <div class="threshold">
        <span class="thresholdBlock">
            <span class="thresholdText">{{i18n.profileMemorydump.snapShot.fileIo.ASnapshotThreshold}}</span>
            <span>{{snapShotAthreshold}}</span>
        </span>
        <span class="thresholdBlock">
            <span class="thresholdText">{{i18n.profileMemorydump.snapShot.fileIo.BSnapshotThreshold}}</span>
            <span>{{snapShotBthreshold}}</span>
        </span>
    </div>
    <div class="table">
        <!-- 左侧 -->
        <div class="table-content">
            <app-table-search-box [searchOptions]="leftTable.searchOptions" (searchEvent)="searchEvent($event, 'left')">
            </app-table-search-box>
            <ti-table #leftTableComp class="left-ti-table" [(displayedData)]="displayedTable" [srcData]="srcDataTable"
                [columns]="columnsTable" [searchWords]="leftTable.searchWords" [searchKeys]="leftTable.searchKeys"
                [closeOtherDetails]="closeOtherDetails" tiColsResizable>
                <div class="ti3-table-fixed-head">
                    <table>
                        <thead>
                            <tr>
                                <ng-container *ngFor="let column of
                                    columnsTable; let idx= index">
                                    <th [ngStyle]="{'left': idx===0?'0px':''}" width="{{ column.width }}"
                                        *ngIf="column.show || column.show === undefined" tiOverflow>
                                        <ti-cell-text>
                                            {{ column.title }}
                                            <span *ngIf="idx == 0" style="vertical-align:
                                                middle;">
                                                <span>{{ '(' +
                                                    spinnerValue + ')'
                                                    }}</span>
                                                <img src="./assets/img/home/tableFilter.svg" [tiTip]="configTwo" />
                                            </span>
                                        </ti-cell-text>
                                        <ti-head-sort *ngIf="column.isSort" [sortKey]="column.sortKey">
                                        </ti-head-sort>
                                    </th>
                                </ng-container>
                                <th width="32px" style="padding-left: 5px;" (mouseenter)="isColSetHover = true"
                                    (mouseleave)="isColSetHover = false">
                                    <span>
                                        <ti-cols-toggle style="float:right;" [searchable]="searchable"
                                            [panelWidth]="panelWidth" [selectAll]="selectAll"
                                            [tipPosition]='tipPosition' [disabled]="disabled"
                                            (select)="onSelectToggle()" style="height: 10px;"
                                            [ngStyle]="{'background': isColSetHover? colHoverImg: colNormalImg}">
                                        </ti-cols-toggle>
                                    </span>
                                </th>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="ti3-table-container ti3-resize-wrapper" [ngStyle]="{
                    height: expand ? '520px' : '240px',
                    'min-height': '240px'
                    }">
                    <table>
                        <thead>
                            <tr [ngStyle]="{ opacity: 0 }">
                                <ng-container *ngFor="let column of
                                    columnsTable; let idx= index">
                                    <th *ngIf="column.show || column.show === undefined" tiOverflow
                                        width="{{ column.width }}"></th>
                                </ng-container>
                                <th width="20px"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <!--第一级-->
                            <ng-container *ngFor="let row of
                                displayedTable; index as i">
                                <tr (click)="handleFileClicked(row, i)"
                                    [ngClass]="{'row-select-bg': row.showDetails || row.isSelect}">
                                    <td style="left: 0px;" tiOverflow width="{{ columnsTable[0].width }}">
                                        <ti-details-icon [row]="row" [index]="i" (beforeToggle)="beforeToggle($event)">
                                        </ti-details-icon>
                                        <span style="margin-left: 4px;">{{ row.ip }}</span>
                                    </td>
                                    <td tiOverflow width="{{ columnsTable[1].width }}" *ngIf="columnsTable[1].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span *ngIf="row.own==='A&B' || row.own==='B'">{{ onChangeTime(row.duration)
                                            }}</span>

                                    </td>
                                    <td tiOverflow width="{{ columnsTable[2].width }}" *ngIf="columnsTable[2].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.duration>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{ onChangeTime(row.compare.duration) }}</span>
                                            </span>
                                            <span *ngIf="row.compare.duration<0" class="count-fill-greed">
                                                <span>-{{ onChangeTime(-row.compare.duration) }}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="{{ columnsTable[3].width }}" *ngIf="columnsTable[3].show">
                                        <div style="position:
                                            relative;">
                                            <span *ngIf="row.own==='A'">--</span>
                                            <span *ngIf="row.own==='A&B' || row.own==='B'">
                                                <span *ngIf="row.count > 0" [ngStyle]="{
                                                    width: (row.count / row.count) * 100 + '%'
                                                    }" class="count-fill"></span>
                                                <span class="count-right">{{ row.count | separator }}</span>
                                            </span>
                                        </div>
                                    </td>
                                    <td width="{{ columnsTable[4].width }}" *ngIf="columnsTable[4].show">
                                        <div style="position:
                                            relative;">
                                            <span
                                                *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                            <span
                                                *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                            <span *ngIf="row.own==='A&B'">
                                                <span *ngIf="row.compare.count>= 0" class="count-fill-red">
                                                    <span>+</span>
                                                    <span>{{row.compare.count | separator }}</span>
                                                </span>
                                                <span *ngIf="row.compare.count<0" class="count-fill-greed">
                                                    <span>{{row.compare.count | separator }}</span>
                                                </span>
                                            </span>
                                        </div>
                                    </td>
                                    <td width="{{ columnsTable[5].width }}" tiOverflow *ngIf="columnsTable[5].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span *ngIf="row.own==='A&B' || row.own==='B'">{{ row.rCount | separator
                                            }}</span>
                                    </td>
                                    <td width="{{ columnsTable[6].width }}" tiOverflow *ngIf="columnsTable[6].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.rCount>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{ row.compare.rCount | separator }}</span>
                                            </span>
                                            <span *ngIf="row.compare.rCount<0" class="count-fill-greed">
                                                <span>{{ row.compare.rCount | separator }}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="{{ columnsTable[7].width }}" tiOverflow *ngIf="columnsTable[7].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span *ngIf="row.own==='A&B' || row.own==='B'">{{ row.wCount | separator
                                            }}</span>
                                    </td>
                                    <td width="{{ columnsTable[8].width }}" tiOverflow *ngIf="columnsTable[8].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.wCount>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{ row.compare.wCount | separator }}</span>
                                            </span>
                                            <span *ngIf="row.compare.wCount<0" class="count-fill-greed">
                                                <span>{{ row.compare.wCount | separator }}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="{{ columnsTable[9].width }}" tiOverflow *ngIf="columnsTable[9].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span
                                            *ngIf="row.own==='A&B' || row.own==='B'">{{libService.onChangeUnit(row.rByte)}}</span>
                                    </td>
                                    <td width="{{ columnsTable[10].width }}" tiOverflow *ngIf="columnsTable[10].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.rByte>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{libService.onChangeUnit(row.compare.rByte)}}</span>
                                            </span>
                                            <span *ngIf="row.compare.rByte<0" class="count-fill-greed">
                                                <span>-{{libService.onChangeUnit(-row.compare.rByte)}}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="{{ columnsTable[11].width }}" tiOverflow *ngIf="columnsTable[11].show">
                                        <span *ngIf="row.own==='A'">--</span>
                                        <span
                                            *ngIf="row.own==='A&B' || row.own==='B'">{{libService.onChangeUnit(row.wByte)}}</span>
                                    </td>
                                    <td width="{{ columnsTable[12].width }}" tiOverflow *ngIf="columnsTable[12].show">
                                        <span
                                            *ngIf="row.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                        <span
                                            *ngIf="row.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                        <span *ngIf="row.own==='A&B'">
                                            <span *ngIf="row.compare.wByte>= 0" class="count-fill-red">
                                                <span>+</span>
                                                <span>{{libService.onChangeUnit(row.compare.wByte)}}</span>
                                            </span>
                                            <span *ngIf="row.compare.wByte<0" class="count-fill-greed">
                                                <span>-{{libService.onChangeUnit(-row.compare.wByte)}}</span>
                                            </span>
                                        </span>
                                    </td>
                                    <td width="20px"></td>
                                </tr>
                                <!--第二级-->
                                <ng-container *ngIf="row.showDetails">
                                    <ng-container *ngFor="let subRow of currentHostTableListTop; let idx = index">
                                        <tr (click)="handleHostClicked(subRow, i, idx)"
                                            [ngClass]="{'row-select-bg': subRow.showDetails || subRow.isSelect}">
                                            <td style="padding-left: 0px!important;
                                            margin-left: 0px!important; position: sticky !important;" tiOverflow
                                                details-icon-column>
                                                <span>
                                                    <span class="headbg"></span>
                                                    <span class="downicon" (click)="beforeToggleSecond(subRow)">
                                                        <img src="./assets/img/projects/expand-down.svg"
                                                            [ngClass]="{'open': subRow.showDetailsH}">
                                                    </span>
                                                    <span style="margin-left: 4px;">{{subRow.host}}</span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[1].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span
                                                    *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{onChangeTime(subRow.duration)}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[2].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.duration>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{onChangeTime(subRow.compare.duration)}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.duration<0" class="count-fill-greed">
                                                        <span>-{{onChangeTime(-subRow.compare.duration)}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[3].show">
                                                <div style="position:relative;">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">
                                                        <span *ngIf="subRow.count > 0" [ngStyle]="{
                                                        width:
                                                            (subRow.count / row.count) * 100 + '%'
                                                        }" class="count-fill"></span>
                                                        <span class="count-right">{{
                                                            subRow.count | separator
                                                            }}</span>
                                                    </span>
                                                </div>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[4].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.count>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{subRow.compare.count | separator}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.count<0" class="count-fill-greed">
                                                        <span>{{subRow.compare.count | separator}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[5].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{subRow.rCount |
                                                    separator}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[6].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.rCount>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{subRow.compare.rCount | separator}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.rCount<0" class="count-fill-greed">
                                                        <span>{{subRow.compare.rCount | separator}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[7].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{subRow.wCount |
                                                    separator}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[8].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.wCount>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{subRow.compare.wCount | separator}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.wCount<0" class="count-fill-greed">
                                                        <span>{{subRow.compare.wCount | separator}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[9].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span
                                                    *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{libService.onChangeUnit(subRow.rByte)}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[10].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.rByte>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{libService.onChangeUnit(subRow.compare.rByte)}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.rByte<0" class="count-fill-greed">
                                                        <span>-{{libService.onChangeUnit(-subRow.compare.rByte)}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[11].show">
                                                <span *ngIf="subRow.own==='A'">--</span>
                                                <span
                                                    *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{libService.onChangeUnit(subRow.wByte)}}</span>
                                            </td>
                                            <td tiOverflow *ngIf="columnsTable[12].show">
                                                <span
                                                    *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                <span
                                                    *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                <span *ngIf="subRow.own==='A&B'">
                                                    <span *ngIf="subRow.compare.wByte>= 0" class="count-fill-red">
                                                        <span>+</span>
                                                        <span>{{libService.onChangeUnit(subRow.compare.wByte)}}</span>
                                                    </span>
                                                    <span *ngIf="subRow.compare.wByte<0" class="count-fill-greed">
                                                        <span>-{{libService.onChangeUnit(-subRow.compare.wByte)}}</span>
                                                    </span>
                                                </span>
                                            </td>
                                            <td width="20px"></td>
                                        </tr>
                                        <!--第三级-->
                                        <ng-container *ngIf="subRow.showDetailsH">
                                            <tr *ngFor="let fdRow of currentFdTableListTop"
                                                (click)="handleFdClicked(fdRow, i, idx)"
                                                [ngClass]="{'row-select-bg': fdRow.isSelect}">
                                                <td style="padding-left: 0px!important;
                                                margin-left: 0px!important; position: sticky;" tiOverflow>
                                                    <span>
                                                        <span class="headbgfirst"></span>
                                                        <span class="headbgsecond"></span>
                                                        <span style="margin-left: 85px;">{{fdRow.fd}}</span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[1].show">
                                                    <span *ngIf="fdRow.own==='A'">--</span>
                                                    <span
                                                        *ngIf="fdRow.own==='A&B' || fdRow.own==='B'">{{onChangeTime(fdRow.duration)}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[2].show">
                                                    <span
                                                        *ngIf="fdRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="fdRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="fdRow.own==='A&B'">
                                                        <span *ngIf="fdRow.compare.duration>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{onChangeTime(fdRow.compare.duration)}}</span>
                                                        </span>
                                                        <span *ngIf="fdRow.compare.duration<0" class="count-fill-greed">
                                                            <span>-{{onChangeTime(-fdRow.compare.duration)}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[3].show">
                                                    <div style="position:relative;">
                                                        <span *ngIf="fdRow.own==='A'">--</span>
                                                        <span *ngIf="fdRow.own==='A&B' || fdRow.own==='B'">
                                                            <span *ngIf="fdRow.count > 0" [ngStyle]="{
                                                        width:
                                                            (fdRow.count / row.count) * 100 + '%'
                                                        }" class="count-fill"></span>
                                                            <span class="count-right">{{
                                                                fdRow.count | separator
                                                                }}</span>
                                                        </span>
                                                    </div>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[4].show">
                                                    <span
                                                        *ngIf="fdRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="fdRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="fdRow.own==='A&B'">
                                                        <span *ngIf="fdRow.compare.count>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{fdRow.compare.count | separator}}</span>
                                                        </span>
                                                        <span *ngIf="fdRow.compare.count<0" class="count-fill-greed">
                                                            <span>{{fdRow.compare.count | separator}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[5].show">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{subRow.rCount
                                                        | separator}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[6].show">
                                                    <span
                                                        *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="subRow.own==='A&B'">
                                                        <span *ngIf="subRow.compare.rCount>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{subRow.compare.rCount | separator}}</span>
                                                        </span>
                                                        <span *ngIf="subRow.compare.rCount<0" class="count-fill-greed">
                                                            <span>{{subRow.compare.rCount | separator}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[7].show">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{subRow.wCount
                                                        | separator}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[8].show">
                                                    <span
                                                        *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="subRow.own==='A&B'">
                                                        <span *ngIf="subRow.compare.wCount>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{subRow.compare.wCount | separator}}</span>
                                                        </span>
                                                        <span *ngIf="subRow.compare.wCount<0" class="count-fill-greed">
                                                            <span>{{subRow.compare.wCount | separator}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[9].show">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span
                                                        *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{libService.onChangeUnit(subRow.rByte)}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[10].show">
                                                    <span
                                                        *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="subRow.own==='A&B'">
                                                        <span *ngIf="subRow.compare.rByte>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{libService.onChangeUnit(subRow.compare.rByte)}}</span>
                                                        </span>
                                                        <span *ngIf="subRow.compare.rByte<0" class="count-fill-greed">
                                                            <span>-{{libService.onChangeUnit(-subRow.compare.rByte)}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[11].show">
                                                    <span *ngIf="subRow.own==='A'">--</span>
                                                    <span
                                                        *ngIf="subRow.own==='A&B' || subRow.own==='B'">{{libService.onChangeUnit(subRow.wByte)}}</span>
                                                </td>
                                                <td tiOverflow *ngIf="columnsTable[12].show">
                                                    <span
                                                        *ngIf="subRow.own==='A'">--{{i18n.profileMemorydump.snapShot.onlyASnapshot}}</span>
                                                    <span
                                                        *ngIf="subRow.own==='B'">--{{i18n.profileMemorydump.snapShot.onlyBSnapshot}}</span>
                                                    <span *ngIf="subRow.own==='A&B'">
                                                        <span *ngIf="subRow.compare.wByte>= 0" class="count-fill-red">
                                                            <span>+</span>
                                                            <span>{{libService.onChangeUnit(subRow.compare.wByte)}}</span>
                                                        </span>
                                                        <span *ngIf="subRow.compare.wByte<0" class="count-fill-greed">
                                                            <span>-{{libService.onChangeUnit(-subRow.compare.wByte)}}</span>
                                                        </span>
                                                    </span>
                                                </td>
                                                <td width="20px"></td>
                                            </tr>
                                        </ng-container>
                                    </ng-container>
                                </ng-container>
                            </ng-container>
                        </tbody>
                    </table>
                </div>
                <ti-pagination class="pagination-bottom" id="pagination" [(currentPage)]="leftTable.pageNo"
                    [pageSize]="leftTable.pageSize " [(totalNumber)]="leftTable.total">
                </ti-pagination>
            </ti-table>
        </div>
        <!-- 右侧 -->
        <div class="table-time">
            <app-table-search-box [searchOptions]="rightTable.searchOptions"
                (searchEvent)="searchEvent($event, 'right')"></app-table-search-box>
            <ti-table #rightTableComp class="right-ti-table" [(displayedData)]="displayedTableTime"
                [srcData]="srcDataTableTime" [columns]="columnsTableTime" [searchWords]="rightTable.searchWords"
                [searchKeys]="rightTable.searchKeys" tiColsResizable>
                <div class="ti3-table-fixed-head">
                    <table>
                        <thead>
                            <tr>
                                <ng-container *ngFor="let column of columnsTableTime">
                                    <th width="{{ column.width }}" tiOverflow>
                                        <ti-cell-text>{{ column.title }}</ti-cell-text>
                                        <ti-head-sort *ngIf="column.isSort" [sortKey]="column.sortKey">
                                        </ti-head-sort>
                                        <ti-head-filter *ngIf="column.filter" [options]="column.options"
                                            [(ngModel)]="column.selected" (select)="onTypeSelect()"
                                            [ngClass]="{'ti3-head-filtered': column.selected && column.selected.length}"
                                            [multiple]="column.multiple" [selectAll]="column.selectAll"
                                            [searchable]="column.searchable"></ti-head-filter>
                                    </th>
                                </ng-container>
                            </tr>
                        </thead>
                    </table>
                </div>
                <div class="ti3-table-container ti3-resize-wrapper" style="height: 240px" [ngStyle]="{
                height: expand ? '520px' : '240px',
                'min-height': '240px'
                }">
                    <table>
                        <thead>
                            <tr>
                                <th *ngFor="let column of columnsTableTime" tiOverflow width="{{ column.width }}"></th>
                            </tr>
                        </thead>
                        <tbody id="gc_activity_body">
                            <ng-container *ngFor="let item of displayedTableTime; let i = index">
                                <tr [ngStyle]="{
                        'background-color': item.isSelect ? '#F7FAFF' : ''
                        }" (click)="onClickRightTable(item, i)">
                                    <td tiOverflow>{{ item.threadName }}</td>
                                    <td tiOverflow>{{ item.own }}</td>
                                    <td tiOverflow>{{ item.type }}</td>
                                    <td tiOverflow>{{ item.start }}</td>
                                    <td tiOverflow>{{ libService.onChangeUnit(item.byte) }}</td>
                                    <td tiOverflow>{{ libService.onChangeUnit(item.rate) }}/s</td>
                                    <td tiOverflow>{{ onChangeTime(item.duration) }}</td>
                                </tr>
                            </ng-container>
                        </tbody>

                    </table>
                </div>
                <ti-pagination [ngClass]="{'pagination-bottom-right': !leftState}" class="pagination-bottom"
                    id="pagination" [(currentPage)]="rightTable.pageNo " [pageSize]="rightTable.pageSize"
                    [(totalNumber)]="rightTable.total">
                </ti-pagination>
            </ti-table>
        </div>
        <div class="table-expand">
            <hy-theme-content [hidden]="expand" (click)="onClickExpand()">
                <app-icon-react name="expandDown" light></app-icon-react>
                <app-icon-react name="expandDownDark" dark></app-icon-react>
            </hy-theme-content>
            <hy-theme-content [hidden]="!expand" (click)="onClickExpand()">
                <app-icon-react name="expandUp" light></app-icon-react>
                <app-icon-react name="expandUpDark" dark></app-icon-react>
            </hy-theme-content>  
        </div>
    </div>
    <div class="echarts">
        <div class="echarts-title">
            <span>{{ echartsTitle }} </span>
            <span style="margin-left: 16px;color: #979797;">{{currentEchartsIPName}}</span>
            <span *ngIf="currentEchartsAddrName" style="color: #979797;">{{ ' ( ' + currentEchartsAddrName }}
                <span *ngIf="currentEchartsFdName" style="color: #979797;">{{ ' [ ' + currentEchartsFdName + ' ] '
                    }}</span>
                {{ ' ) ' }}</span>
        </div>
        <div class='timeLine'>
            <app-time-line [timeData]='timeData' (timeLineData)='timeLineData($event)' #socketioTimeLine>
            </app-time-line>
        </div>
        <div class="echarts-content">
            <div id="fileIOEcharts" style="width: 100%;height: 300px;"></div>
        </div>
    </div>
    <div class="stack">
        <div class="config-title">
            {{ i18n.protalserver_sampling_lock_stack }}
            <app-stack-tip></app-stack-tip>
        </div>
        <div class="config-border"></div>
        <div class="config-tree">
            <ti-tree [data]="stackTranceData" (select)="onSelect($event)" (beforeExpand)="beforeExpand($event)">
                <ng-template let-item let-i="index">
                    <span tiOverflow tiTipPosition="right" style="vertical-align: middle;">
                        <span class="expandAll" *ngIf="!item.expanded  && item.children && item.children.length"
                            (click)="expandAllNode(item)">
                            <img src="./assets/img/profiling/expandAll.svg">
                        </span>
                        <span class="expandAll" *ngIf="item.expanded && item.children && item.children.length">
                            <img src="./assets/img/profiling/notExpandAll.svg">
                        </span>
                        <span [ngStyle]="{ width: '0px' }" style="
                            display: inline-block;
                            min-width: 0.1px;
                            max-width: 150px;
                            height: 10px;
                            background: var(--table-count-bg-color);
                            margin-right: 5px;
                            "></span>
                        <span style="cursor: pointer; padding-right: 10px;">{{
                            item.label
                            }}</span>
                    </span>
                </ng-template>
            </ti-tree>
        </div>
        <div class="config-border"></div>
    </div>
</div>
<ng-template #configTwo let-context="context">
    <div class="config_title">{{ i18n.jdbcpool_config_title }}</div>
    <div class="spinner_content">
        <div style="margin-right: 7px;">{{ i18n.jdbcpool_config_top }}</div>
        <ti-spinner class="spinner2" style="width: 150px;" name="spinner2" [min]="spinner.min" [max]="spinner.max"
            [format]="spinner.format" [(ngModel)]="spinnerValue" [tiRangeValue]="spinner.rangeValue"
            (ngModelChange)="onModelChange($event)" tiValidation tiRequired [disabled]="startBtnDisabled">
        </ti-spinner>
    </div>
</ng-template>